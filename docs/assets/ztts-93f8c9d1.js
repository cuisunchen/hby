import{b as Vt,_ as ms}from"./barBox-17dd2415.js";import{_ as Yt,i as be,c as _e}from"./border-8190e495.js";import{l as Qe,A as fe,N as ut,n as oe,C as z,q as L,u as M,r as At,B as Xe,D as gs,F as As,O as xs,P as Ts,o as ys}from"./vue-vendor-3bf193f6.js";import{_ as Je}from"./index-ddba5812.js";import{r as bs}from"./ztts_rwqs-999bb4a0.js";import{q as vs}from"./ztts_qycz-c18624e7.js";import{m as ws,a as Es,r as Ms,q as Ss}from"./ztts_rtBar_options-9ba18139.js";import{O as Kt,B as Ke,F as re,M as We,S as ue,U as Wt,V as O,W as ie,C as qt,a as H,b as Rs,D as qe,R as Cs,N as Rt,c as de,d as _,A as _s,E as Os,e as Ae,T as xe,Q as De,f as Ct,L as Qt,g as xt,G as ze,h as Ve,i as Oe,P as Re,j as Ls,k as ht,l as Ye,m as Ds,n as ft,o as Xt,p as dt,q as Bs,r as Ps,s as Jt,t as Te,u as Be,v as pe,I as Is,w as Zt,x as ks,y as Fs,z as it,H as Ns,J as $t,K as es,X as pt,Y as ts,Z as js,_ as Us,$ as Hs,a0 as Gs,a1 as ss,a2 as zs,a3 as Vs,a4 as ns,a5 as Ys,a6 as Ks,a7 as Ws,a8 as qs,a9 as Qs,aa as Xs,ab as Js,ac as Zs,ad as $s,ae as en,af as tn,ag as _t,ah as sn,ai as Ot,aj as nn,ak as rn,al as an,am as on,an as ln,ao as cn,ap as un,aq as hn,ar as fn,as as dn,at as pn,au as mn,av as gn,aw as An}from"./util-vendor-1202b99e.js";import{i as ce}from"./infoCard-35db32fe.js";import{z as xn,a as Tn}from"./ztits_dnclsl-d19febc8.js";import{z as yn}from"./ztits_drsssl-b3ef156e.js";import"./echarts-71ab4440.js";import"./lodash-cb12fb46.js";const bn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAgCAYAAAAFQMh/AAADSklEQVRIiY2Xv2sUURDHP2937xLz4yAokaAQ0YBgIWJhLdaiYGVlYWkjWPkX2CqWCmqnIJaKlTYWVuKPRtCAYGMQwV+XXG5/yW7e3s3OzTuzMGz27eZ95jvz3sw7R14y5XLqlX62LjlhcPIkMO6MuzWmJy/F81QHLLCbYpEBlsDKCvVsOqDBGhoFzCnFEmpZ851r4EkAKoGxYRa4AuTK5DeFpdiCNsBEWaxC3oArUCbM+TH8vZUaK9Qa2vHW9feEdrhLoTL1FhlrAKnaCnWkoBVwxlsDj40wViqHwLax4kuRYycVW2FOBHQPMOutAh8FjvjvNoC3wJaHWmko/HjjiNOKZZgbtbMePEfJKUquAIdUin7jeIjjsYCGVnituKpcjdpEqRwDYYGcs5Rc807Zl+MFMTdqR2DT28BHYujzX6WkiIRajFDvqC5YJeMqOfHEhpGWcYaUc97xjlgPkVqQRMLzUJ47DDlPTncEKdgg4hERDyj5oOAXxOqP1fYbrfRQ5WoXkIwTovD1mecuUR22CrFOn5iCY/79QTKWSeowR0rt6NKKJXzsQMbMqDSUfK1HxhMmOD63SkdRrw2nVYbAVlfZcaTg22jSIfspVaSGHBDglA7fA93LBGv42CJeixwu8YOLbLNMSo+fnGbAydH7ak+7Og26RbYcSBTU7jALvKLPJUp69ZcZawxYs5QwxzNjjokWGQkoApyLop+S8IcuT1p5tAze0+ON2K/jfdB2oFXGpFrZadK6AOzjKfApCM0ZsMQdo1g0cFOxDnWuiv4Ax1/2couCTbN4zHGPeb74SjX0lgn4hGILmrfU7ky2ySLrLHKTnKIF7fCclToifd8sBqJF6lCj+7GEZ6qCjR1c4SVbrNDnsl+e71jltocORJfS4W4pTgTUie5RiMYu01HUY4e5z0d6ZBxnlevE/BJp2RZgE0oNycXf9kGgaY9d4xSCcjIV+bUUmycQeQpsJnNKbe4nTISjhUhPqu5WftFguZ+bkGdivFlwceDok6uFmRthDp6rpVfNeTgTE0e0j7dO7X9ZB4JVywJr1VJR09py1cmsXxFB4DSwdKBQygi0Oru5tMd2BW793FBQebfA08b+Cw79g3ZgN99OXsA/QArIk5eNcLoAAAAASUVORK5CYII=",vn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAoCAYAAACIC2hQAAAFLklEQVRYha2Yy4scVRSHv+qZ7nlk3omJOtEoURQiikQhiPjaCEpEHAIqKJiVuPEVEAT34iL+By6NC10ERF0ExIULCaJC3CgYXeQxMWoe8+rqqlvS1bemT506t9I9yYXD7aqux1e/c+65596INOMGtUg9Rh93m37ZwC8fvQGMUaBHwWbieGjg6wGVgFHNsQaSFgnIWthBQOtcKqEa6ljDFoBO/dYfMjSodqk+pwG7fUMdy3udYZE4VwsbArVcaQFqG6Hcy5gsgFIg8X2qPmQoRSWY5U4LrrBR8bv4vwBNBWRH9FLJ0GCrdb12YQiuAOxaU/weUaCJt9j/HwdiWB6XYCw1tXoapuVtDJgAJoFtwBQwDcwAs8DjwLfAIX9u2l/TvX7cP6OpPGBli5KidZAh9TS07HeS8YEHe4uIM8BvwLq/X7rZSlslVbWiBCClkmNejXFDya6Kc8ACKW/jmPVDaIyU94AdXtkpf9+Ef15TxXYlDzcE3CAuH8vNcR8J35Pyhn+hdPccKQfJ2Kd0WiTlNX/NjAC1QqCSGvVgsgZNOS4zZkg46pU7DJxmhNOb6jpuJ+U5K86Ap4BfGeGkSlWJSFlOpapMu14rarm9Rcy7OO4g40ccGR3eIWOXV2meDi/iaJrp3RGR8CoZOw33t1S2KKlqud5KQz3YNo+ScIiUs7T4CDhOynY2eCl3f5sDJLmLCVrCHG1e8OEyqUCtWK0MJguy737HJDHv5yo2OUpExhhfAb8A7XzgxDwZULJsHR4h4Z5AnI6qVBUh0oSeIquKrnEYxyINvqTFH/lLIpps49NcmRWez0f3YC1inSWm+R1Y8ylrI//gvvuTOkXt0R+zQMwrpFxlIgdriiwwToedxNxf63JtHfawzn7D9TpOc6sD7U+dqyyRMkGDL3Jtywm/wQqPkRINBZrmWj5TA2nGqFVj9luHp3EkbMtjspy6umdj7h0oNrUl3Moa+wzQSuK3ZqZqS9iL4y+aXKmov8IDpIwMrWZf1QM1gMGEjzn3ZvxHxrz6v9c2uKtSpw/TYu42SsdKYSLLMN33lwsZJ0lY4B8eUgVwNyBmtqxmb1DNGZ8VnOslpKNckTsm+IQUxxWOcIk7xXSX4Ni4LlCXpyYXqKKCoBqy97jtnKLFh6TMcJGP+ZMjnOFZ1pmiwYUtDaTCIpZL2AYkIkbLru5DNjYLht0c4xznWeVNYh7OLaPFOKdY48Etx2iLn3y1rwuTEvCoUagWkFQS/y18B5zkMntps4d5zjPCFP9ykNSMtfoWscZ2TvgZKQ5UUFlI0WzTKb2bqmv22XwKXfYVUHeYHWOZ10PLiGCb43PG+NtPn7FY9ElVS66XalrN2rbp2w5+YJ2buMTSwLBTfM1iPoGsinleq1pRVLY6YOvant3GcZpc5CIv4/LaNPTJG8zzGbv5BrjqQdc8rFRUxmgmd/OsoiQSs0WxJGmptVOxCu1ZzDzneIJV9pOwC8c0ETGjnGWSn7mZE0xwwQOu+H5VVFBmCOhtR2vDq26h1xILvQJaF8HFRljqAdoeaN0o8dqBOM20660tlVAydiL/FRsLbaPAkKCJgG2r2LTic7OFYlQfRwrQqfklES+zakr5YR1vseqtQVQ7mCSshIwMRZ1SKlaVUKTukx+mLVVzViXhX6vp/aCQst2X6Q0yDZopT6TiGXL6roTgsHv4g+6PWrsd+gN1XaGLkWvGaF2z4rcIi2I2szJHpq4PVUpmQbIVUAswU1CyD91r9fLcDQO1XiqVG/b++gb8D22NoIne5uAqAAAAAElFTkSuQmCC",wn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAqCAYAAAAqAaJlAAAFjElEQVRYha2Yv48cNRTHPzO7e3uby4U7SJRrIgqkBBQpIZQUCBpIBxJSpCQUlDQgCqDhb6BASLQgxImS+gpEAw0BlCiiCF0CIUFEHPlx3O7NjI3Wa+963jzPbi54Zc2sZ2x/5uvn52dnVJZHSNk+qu67w+4+62WJe/lMgtno+UND7wc2S1wlaPivQdmWZ/8LbAqyDX5RqIWgU7BtQ5sJMA02AAaI+Kp9gPZBjQ9oU1Yb3kzJWnncoVXAtfJW0BTsIpB5AjxXYE0CUJZL0IbabWaggeY+d8T/TLnGQPE13FfR/xg06S3yBGwMHQN2/AeO85LPfWAZGAAHgFeAX/31gC9f9u+FOqGN0GaujEojpcxAG94A3FM66047tZwBDgJnyLjklRurWPpruC9Fv0aBbTUDaa95lANgT+RuDd465XAKZg46hhvnQqiYCXCTstt5NhuAA0yfirPkXCZj5Ie0Vxtayz1veXeBVQ9bRHkPyxqG03TYivosI5tVfXMcG0jApo2WvIRh09lkl3fI+Teyw95UXcNhcu4INcd5hGGFko+BE+RcpMu37gNm71bR5Kt5izwCldAx8ES9Dlex/IjlOAWfYjni1TsEPObzGrnrbHI/K1/FctjXO4Hlkmtv9qHxZJP+OpNmkJpYM1vNXNPvMeIjLKcwbNDhgZtQBc9TcRrYwLJCxg5wmw5X6PI9GQ8wrGI4RsZP9Hnf4/SEG9MWGBvMQPrTeNb3FNe04pQ0HHUK7vEcBW84O0yljH/o8RVL/IChQ86fwD1wHzQ2paHPo8hkpClMldVUjcG7ArzvQIe8zB7nFvDXa1S8RcU6AzepQjuxl5Am0Fi62/ysBA0TaaLyiFMMFwKdtTviHDm36POz8BAhp2zWJdlRFpVL4LBa9R3sLucx5FNLWyznrt7EpOSK1hH9IoFzBTTlDXpT4F1OUnB06mSauaDP13T5rvGsYMPVn8H25niDKXA3ATpbvf52Cj5L5lakXdbZYsTTtfCjPjZ7rLLJgBs84KT63ohnWOYXtnkN48yqIOMyT/CZYrfT+HdePJsx5F3vL0NHVyh53KnUrDFkjS8ZcJMdnuI+r6qR6bj+iA2GvB6Vvgh83hbMBFirvDTpZpULlBwnY8W9vcw29+g1FMsoWOcLBtxy/w1dN/N3OIsVy7qhxzJ3OMSHfpHdoesiNbRlVrquuLD+8iq/eZ8YVqR1zNg/i5rjqdPnr6jeNedT7/MCxq1wMezEzA5yHdgGF0fcnceSi4fafUgzO9JmfskhbvABt10cO1HvD8678ub7crehKinvF93d1r9SxvchDbjKBltULHGTCxQ8mWxtXomSUmaQyhNMm4A9wjeU9PmdixQcS/ZqorbSe7SGGXSVLbEEDw1W02uFVb3Bdd7E0qNqiRNwLVgRCkpoVcBFlDWN7Yhxv2bacyHj/GS8lddj2JTCNWW1lAINkX61/+M117JZIOBupNjPIrYTtjbXA+gk2teVXTQZBzby7RW+/dgUENdpPBt6CG5EBi6TOPYabzPiot/BLj/CCSQOLnPxq6HPJif4xMe1u9FHBMUb8WxzoOoTq6RixUX6c/b2C6bxxvKg66dyAX0pJptqBpqyMixcinYKg2jHIA8vwvZHnshUtQ3jZEew65UMau768j2hqrpT0JS1YmLl0TPjy4bKCUu8KplacDgDHilbmcawy6TBav61EKClV0CezqQO5ip1Wz5TslDMYO6RZ3x2GjqRz2NYeV4l49C0r56Bl0JZzSM0YG3CdYXjnbjTTuJQre181gjoGF5TtQHc5n7iCCDuUB55pnajGnB8/CmX2lZPkIKVLxsBGpSWgG0uLVYpBd+61GqwminEMCa6165tSVuZ4g9IPUvCyhdj8BTQwywSqSGeF/gD8B9zXqgWLpTDSAAAAABJRU5ErkJggg==";let En=[{name:"广东大区",value:16,normal:9,abnormal:7},{name:"湖北大区",value:11,normal:7,abnormal:4},{name:"广西大区",value:9,normal:7,abnormal:2},{name:"湖南大区",value:5,normal:4,abnormal:1},{name:"吉林大区",value:7,normal:5,abnormal:2},{name:"江苏大区",value:6,normal:3,abnormal:3},{name:"黑龙江大区",value:8,normal:5,abnormal:3}];const Mn=r=>{let e={xAxisData:[],botOvalSeriesData:[],centerOvalSeriesData:[],topOvalSeriesData:[],normalSeriesData:[],abnormalSeriesData:[]};for(let s of r){let t={name:"底部椭圆",value:"1",itemStyle:{color:"#00FDFF"}},n={name:"中间椭圆",value:s.normal,symbolPosition:"end"},i={name:"顶部椭圆",value:s.abnormal+s.normal,symbolPosition:"end"},a={name:"正常厂站",value:s.normal},o={name:"异常厂站",value:s.abnormal};e.xAxisData.push(s.name),e.botOvalSeriesData.push(t),e.centerOvalSeriesData.push(n),e.topOvalSeriesData.push(i),e.normalSeriesData.push(a),e.abnormalSeriesData.push(o)}return e},Sn=()=>{let r=Mn(En);return{tooltip:{show:!0,showContent:!0,trigger:"axis",backgroundColor:"rgba(21, 80, 80, 0.8)",borderColor:"rgba(0, 253, 255, .5)",borderWidth:1,textStyle:{color:"#00FDFF",fontSize:15},padding:[5,10],formatter:e=>{let s=e[0].axisValueLabel+"<br>";for(let t of e)if(t.seriesName&&!t.seriesName.includes("series")){let n='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+t.color.colorStops[0].color+';"></span>';s+=n+t.seriesName+": "+t.value+"<br>"}return s}},grid:{left:40,top:10,right:0,bottom:60},xAxis:[{data:r.xAxisData,axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#0FB7B8",type:"solid"}},axisLabel:{textStyle:{color:"#15FDFF"},margin:20}}],yAxis:[{splitLine:{show:!0,lineStyle:{color:"rgba(180,235,184,.3)",type:"dashed"}},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#0FB7B8",type:"solid"}},axisLabel:{textStyle:{color:"#15FDFF"}}}],series:[{name:"",type:"pictorialBar",symbolSize:[26,14],symbolOffset:[0,7],z:12,data:r.botOvalSeriesData},{name:"",type:"pictorialBar",symbolSize:[26,14],symbolOffset:[0,-7],itemStyle:{color:"#00FDFF"},z:12,data:r.centerOvalSeriesData},{name:"",type:"pictorialBar",symbolSize:[26,14],symbolOffset:[0,-7],itemStyle:{color:"#02a3ac"},z:12,data:r.topOvalSeriesData},{name:"正常",type:"bar",barWidth:26,barGap:"-100%",itemStyle:{color:{x:0,y:0,x2:0,y2:1,type:"linear",global:!1,colorStops:[{offset:0,color:"rgba(55,255,249,1)"},{offset:1,color:"rgba(0,222,215,0.2)"}]}},data:r.normalSeriesData},{type:"bar",barWidth:26,barGap:"-100%",stack:"广告",itemStyle:{color:{x:0,y:0,x2:0,y2:1,type:"linear",global:!1,colorStops:[{offset:0,color:"rgba(0,253,255,0.7)"},{offset:1,color:"rgba(0, 222, 255,0.7)"}]}},data:r.normalSeriesData},{name:"异常",type:"bar",barWidth:50,barGap:"-100%",stack:"广告",itemStyle:{color:{x:0,y:0,x2:0,y2:1,type:"linear",global:!1,colorStops:[{offset:0,color:"rgba(0, 253, 255,0.38)"},{offset:1,color:"rgba(0, 222, 255,0.38)"}]}},data:r.abnormalSeriesData}]}},Rn={xAxisData:["14:00","15:00","16:00","17:00","18:00","19:00","20:00"],seriesData:[4,7,5,4,3,5,8]},Cn=r=>({tooltip:{show:!0,showContent:!0,trigger:"axis",backgroundColor:"rgba(21, 80, 80, 0.8)",borderColor:"rgba(0, 253, 255, .5)",borderWidth:1,textStyle:{color:"#00FDFF",fontSize:15},formatter:e=>{let s='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+e[0].borderColor+'"></span>';return e[0].seriesName+"<br>"+s+e[0].name+" 处理: "+e[0].value}},xAxis:[{type:"category",name:"",axisLine:{show:!0,lineStyle:{color:"#0FB7B8"}},axisLabel:{color:"#15FDFF",width:100},splitLine:{show:!1},boundaryGap:!1,data:r.xAxisData}],yAxis:[{type:"value",name:"浓度（mgl）",nameTextStyle:{padding:[0,0,0,14]},min:0,splitNumber:4,splitLine:{show:!0,lineStyle:{color:"rgba(180,235,184,.3)",type:"dashed"}},axisLine:{show:!0,lineStyle:{color:"#0FB7B8",type:"solid"}},axisLabel:{textStyle:{color:"#15FDFF"}},axisTick:{show:!0}}],series:[{name:"污水处理",type:"line",smooth:!0,showAllSymbol:!0,symbol:"circle",symbolSize:10,lineStyle:{color:"#A582EA"},label:{show:!1,position:"top",textStyle:{color:"#A582EA"}},itemStyle:{color:"#fff",borderColor:"rgb(165, 130, 234)",borderWidth:2},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(165, 130, 234, .3)"},{offset:1,color:"rgba(0,0,0,1)"}]}},data:r.seriesData}]}),_n={innerCircle:[{name:"水质报警",value:92,label:{color:"#333"},color:"#00FBFF"},{name:"设备报警",value:42,label:{color:"#333"},color:"#FFDD00"}],outerCircle:[{type:"已处理",value:32,color:"#00FBFF"},{type:"未处理",value:56,color:"rgba(0, 251, 255 ,0.6)"},{type:"已处理",value:24,color:"#FFDD00"},{type:"未处理",value:18,color:"rgba(255, 224, 0,0.6)"}]},On=r=>({tooltip:{formatter:function(e){return e.data.type==null?e.data.name+":"+e.value+"个":e.data.type+":"+e.value+"个"}},series:[{name:"",type:"pie",radius:[0,"40%"],label:{position:"inner"},itemStyle:{borderWidth:2,color:function(e){return e.data.color}},selectedMode:"single",data:r.innerCircle},{name:"",type:"pie",radius:["60%","80%"],itemStyle:{color:function(e){return e.data.color}},label:{formatter:function(e){return e.value!=0?e.data.type+": "+e.value+"个":""},show:!0},data:r.outerCircle}]}),Ln={class:"chartBox flex1 flex-shrink flex-column"},Dn={class:"chartBox flex1 flex-shrink flex-column",style:{margin:"10px 0"}},Bn={class:"chartBox flex1 flex-shrink flex-column"},Pn=Qe({__name:"leftBar",setup(r){let e=Sn(),s=Cn(Rn),t=On(_n);return(n,i)=>(fe(),ut(Vt,{class:"ltBar flex-column"},{default:oe(()=>[z("div",Ln,[L(be,{icon:M(bn),title:"厂站区域分布"},{label:oe(()=>[L(Yt,{legends:[{title:"正常",color:"#00FDFF",type:"bar"},{title:"异常",color:"rgba(0, 253, 255, 0.6)",type:"bar"}]})]),_:1},8,["icon"]),L(_e,{class:"flex1",tooltip:M(e).tooltip,grid:M(e).grid,xAxis:M(e).xAxis,yAxis:M(e).yAxis,series:M(e).series},null,8,["tooltip","grid","xAxis","yAxis","series"])]),z("div",Dn,[L(be,{icon:M(vn),title:"污水处理趋势分析"},{label:oe(()=>[...i[0]||(i[0]=[z("span",{class:"unit"},"（单位: 万吨）",-1)])]),_:1},8,["icon"]),L(_e,{class:"flex1",tooltip:M(s).tooltip,xAxis:M(s).xAxis,yAxis:M(s).yAxis,series:M(s).series},null,8,["tooltip","xAxis","yAxis","series"])]),z("div",Bn,[L(be,{icon:M(wn),title:"当月告警分析"},{label:oe(()=>[...i[1]||(i[1]=[z("img",{src:ms,alt:"",srcset:""},null,-1)])]),_:1},8,["icon"]),L(_e,{class:"flex1",tooltip:M(t).tooltip,series:M(t).series},null,8,["tooltip","series"])])]),_:1}))}});const In=Je(Pn,[["__scopeId","data-v-cf5793bd"]]),kn="data:image/png;base64,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",Fn={class:"chartBox flex1 flex-shrink flex-column"},Nn={class:"chartBox flex1 flex-shrink flex-column",style:{margin:"10px 0"}},jn={class:"chartBox flex1 flex-shrink flex-column"},Un=Qe({__name:"rightBar",setup(r){let e=ws(Ms),s=Es(Ss),t=At([{name:"广东大区",value:300,percent:"1",progressColor:["#FF9000","#FF6C00"]},{name:"广西大区",value:268,percent:"0.89",progressColor:["#FFE000","#FFBA00"]},{name:"云南大区",value:258,percent:"0.86",progressColor:["#00FDFF","#00FDFF"]},{name:"贵州大区",value:224,percent:"0.75"},{name:"山西大区",value:184,percent:"0.61"},{name:"海南大区",value:175,percent:"0.58"},{name:"福建大区",value:130,percent:"0.43"},{name:"湖南大区",value:95,percent:"0.32"}]);return(n,i)=>(fe(),ut(Vt,{class:"rtBar flex-column",pos:"right"},{default:oe(()=>[z("div",Fn,[L(be,{icon:M(bs),title:"任务趋势变化"},{label:oe(()=>[...i[0]||(i[0]=[z("span",{class:"unit"},"（任务数）",-1)])]),_:1},8,["icon"]),L(_e,{class:"flex1",tooltip:M(e).tooltip,grid:M(e).grid,xAxis:M(e).xAxis,yAxis:M(e).yAxis,series:M(e).series},null,8,["tooltip","grid","xAxis","yAxis","series"])]),z("div",Nn,[L(be,{icon:M(kn),title:"区域营收排名"},{label:oe(()=>[...i[1]||(i[1]=[z("span",{class:"unit"},"（单位: 万吨）",-1)])]),_:1},8,["icon"]),(fe(!0),Xe(As,null,gs(M(t),(a,o)=>(fe(),ut(a,{class:"flex1",index:o+1,name:a.name,percent:a.percent,value:a.value,progressColor:a.progressColor,key:o},null,8,["index","name","percent","value","progressColor"]))),128))]),z("div",jn,[L(be,{icon:M(vs),title:"区域厂站营收分析"},{label:oe(()=>[L(Yt,{legends:[{title:"盈利",color:"#00FDFF",type:"bar"},{title:"亏损",color:"rgba(0, 253, 255, 0.6)",type:"bar"}]})]),_:1},8,["icon"]),L(_e,{class:"flex1",tooltip:M(s).tooltip,grid:M(s).grid,xAxis:M(s).xAxis,yAxis:M(s).yAxis,series:M(s).series},null,8,["tooltip","grid","xAxis","yAxis","series"])])]),_:1}))}});const Hn=Je(Un,[["__scopeId","data-v-38619c1c"]]);const is={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			gl_FragColor = texture2D( tDiffuse, vUv );
			gl_FragColor.a *= opacity;


		}`};class Pe{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Gn=new Kt(-1,1,1,-1,0,1),Tt=new Ke;Tt.setAttribute("position",new re([-1,3,0,-1,-1,0,3,-1,0],3));Tt.setAttribute("uv",new re([0,2,0,0,2,0],2));class rs{constructor(e){this._mesh=new We(Tt,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Gn)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class zn extends Pe{constructor(e,s){super(),this.textureID=s!==void 0?s:"tDiffuse",e instanceof ue?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Wt.clone(e.uniforms),this.material=new ue({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new rs(this.material)}render(e,s,t){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(s),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Lt extends Pe{constructor(e,s){super(),this.scene=e,this.camera=s,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,s,t){const n=e.getContext(),i=e.state;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0);let a,o;this.inverse?(a=0,o=1):(a=1,o=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),i.buffers.stencil.setFunc(n.ALWAYS,a,4294967295),i.buffers.stencil.setClear(o),i.buffers.stencil.setLocked(!0),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(s),this.clear&&e.clear(),e.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(n.EQUAL,1,4294967295),i.buffers.stencil.setOp(n.KEEP,n.KEEP,n.KEEP),i.buffers.stencil.setLocked(!0)}}class Vn extends Pe{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Yn{constructor(e,s){if(this.renderer=e,s===void 0){const t=e.getSize(new O);this._pixelRatio=e.getPixelRatio(),this._width=t.width,this._height=t.height,s=new ie(this._width*this._pixelRatio,this._height*this._pixelRatio),s.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=s.width,this._height=s.height;this.renderTarget1=s,this.renderTarget2=s.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new zn(is),this.clock=new qt}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,s){this.passes.splice(s,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const s=this.passes.indexOf(e);s!==-1&&this.passes.splice(s,1)}isLastEnabledPass(e){for(let s=e+1;s<this.passes.length;s++)if(this.passes[s].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const s=this.renderer.getRenderTarget();let t=!1;for(let n=0,i=this.passes.length;n<i;n++){const a=this.passes[n];if(a.enabled!==!1){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),a.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),a.needsSwap){if(t){const o=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}Lt!==void 0&&(a instanceof Lt?t=!0:a instanceof Vn&&(t=!1))}}this.renderer.setRenderTarget(s)}reset(e){if(e===void 0){const s=this.renderer.getSize(new O);this._pixelRatio=this.renderer.getPixelRatio(),this._width=s.width,this._height=s.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,s){this._width=e,this._height=s;const t=this._width*this._pixelRatio,n=this._height*this._pixelRatio;this.renderTarget1.setSize(t,n),this.renderTarget2.setSize(t,n);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(t,n)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class Kn extends Pe{constructor(e,s,t,n,i){super(),this.scene=e,this.camera=s,this.overrideMaterial=t,this.clearColor=n,this.clearAlpha=i!==void 0?i:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new H}render(e,s,t){const n=e.autoClear;e.autoClear=!1;let i,a;this.overrideMaterial!==void 0&&(a=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),i=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,i),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=a),e.autoClear=n}}class le extends Pe{constructor(e,s,t,n){super(),this.renderScene=s,this.renderCamera=t,this.selectedObjects=n!==void 0?n:[],this.visibleEdgeColor=new H(1,1,1),this.hiddenEdgeColor=new H(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,this._visibilityCache=new Map,this.resolution=e!==void 0?new O(e.x,e.y):new O(256,256);const i=Math.round(this.resolution.x/this.downSampleRatio),a=Math.round(this.resolution.y/this.downSampleRatio);this.renderTargetMaskBuffer=new ie(this.resolution.x,this.resolution.y),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new Rs,this.depthMaterial.side=qe,this.depthMaterial.depthPacking=Cs,this.depthMaterial.blending=Rt,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=qe,this.prepareMaskMaterial.fragmentShader=h(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new ie(this.resolution.x,this.resolution.y),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new ie(i,a),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new ie(i,a),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new ie(Math.round(i/2),Math.round(a/2)),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new ie(i,a),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new ie(Math.round(i/2),Math.round(a/2)),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1;const o=4,l=4;this.separableBlurMaterial1=this.getSeperableBlurMaterial(o),this.separableBlurMaterial1.uniforms.texSize.value.set(i,a),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(l),this.separableBlurMaterial2.uniforms.texSize.value.set(Math.round(i/2),Math.round(a/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=l,this.overlayMaterial=this.getOverlayMaterial();const c=is;this.copyUniforms=Wt.clone(c.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new ue({uniforms:this.copyUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:Rt,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new H,this.oldClearAlpha=1,this.fsQuad=new rs(null),this.tempPulseColor1=new H,this.tempPulseColor2=new H,this.textureMatrix=new de;function h(u,d){const p=d.isPerspectiveCamera?"perspective":"orthographic";return u.replace(/DEPTH_TO_VIEW_Z/g,p+"DepthToViewZ")}}dispose(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose(),this.depthMaterial.dispose(),this.prepareMaskMaterial.dispose(),this.edgeDetectionMaterial.dispose(),this.separableBlurMaterial1.dispose(),this.separableBlurMaterial2.dispose(),this.overlayMaterial.dispose(),this.materialCopy.dispose(),this.fsQuad.dispose()}setSize(e,s){this.renderTargetMaskBuffer.setSize(e,s),this.renderTargetDepthBuffer.setSize(e,s);let t=Math.round(e/this.downSampleRatio),n=Math.round(s/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(t,n),this.renderTargetBlurBuffer1.setSize(t,n),this.renderTargetEdgeBuffer1.setSize(t,n),this.separableBlurMaterial1.uniforms.texSize.value.set(t,n),t=Math.round(t/2),n=Math.round(n/2),this.renderTargetBlurBuffer2.setSize(t,n),this.renderTargetEdgeBuffer2.setSize(t,n),this.separableBlurMaterial2.uniforms.texSize.value.set(t,n)}changeVisibilityOfSelectedObjects(e){const s=this._visibilityCache;function t(n){n.isMesh&&(e===!0?n.visible=s.get(n):(s.set(n,n.visible),n.visible=e))}for(let n=0;n<this.selectedObjects.length;n++)this.selectedObjects[n].traverse(t)}changeVisibilityOfNonSelectedObjects(e){const s=this._visibilityCache,t=[];function n(a){a.isMesh&&t.push(a)}for(let a=0;a<this.selectedObjects.length;a++)this.selectedObjects[a].traverse(n);function i(a){if(a.isMesh||a.isSprite){let o=!1;for(let l=0;l<t.length;l++)if(t[l].id===a.id){o=!0;break}if(o===!1){const l=a.visible;(e===!1||s.get(a)===!0)&&(a.visible=e),s.set(a,l)}}else(a.isPoints||a.isLine)&&(e===!0?a.visible=s.get(a):(s.set(a,a.visible),a.visible=e))}this.renderScene.traverse(i)}updateTextureMatrix(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)}render(e,s,t,n,i){if(this.selectedObjects.length>0){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const a=e.autoClear;e.autoClear=!1,i&&e.state.buffers.stencil.setTest(!1),e.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);const o=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,e.setRenderTarget(this.renderTargetDepthBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this._visibilityCache.clear(),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value.set(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,e.setRenderTarget(this.renderTargetMaskBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this._visibilityCache.clear(),this.renderScene.background=o,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,e.setRenderTarget(this.renderTargetMaskDownSampleBuffer),e.clear(),this.fsQuad.render(e),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){const l=.625+Math.cos(performance.now()*.01/this.pulsePeriod)*.75/2;this.tempPulseColor1.multiplyScalar(l),this.tempPulseColor2.multiplyScalar(l)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value.set(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=le.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,e.setRenderTarget(this.renderTargetBlurBuffer1),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=le.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=le.BlurDirectionX,e.setRenderTarget(this.renderTargetBlurBuffer2),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=le.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer2),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,i&&e.state.buffers.stencil.setTest(!0),e.setRenderTarget(t),this.fsQuad.render(e),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=a}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=t.texture,e.setRenderTarget(null),this.fsQuad.render(e))}getPrepareMaskMaterial(){return new ue({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new O(.5,.5)},textureMatrix:{value:null}},vertexShader:`#include <morphtarget_pars_vertex>
				#include <skinning_pars_vertex>

				varying vec4 projTexCoord;
				varying vec4 vPosition;
				uniform mat4 textureMatrix;

				void main() {

					#include <skinbase_vertex>
					#include <begin_vertex>
					#include <morphtarget_vertex>
					#include <skinning_vertex>
					#include <project_vertex>

					vPosition = mvPosition;

					vec4 worldPosition = vec4( transformed, 1.0 );

					#ifdef USE_INSTANCING

						worldPosition = instanceMatrix * worldPosition;

					#endif
					
					worldPosition = modelMatrix * worldPosition;

					projTexCoord = textureMatrix * worldPosition;

				}`,fragmentShader:`#include <packing>
				varying vec4 vPosition;
				varying vec4 projTexCoord;
				uniform sampler2D depthTexture;
				uniform vec2 cameraNearFar;

				void main() {

					float depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));
					float viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );
					float depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;
					gl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);

				}`})}getEdgeDetectionMaterial(){return new ue({uniforms:{maskTexture:{value:null},texSize:{value:new O(.5,.5)},visibleEdgeColor:{value:new _(1,1,1)},hiddenEdgeColor:{value:new _(1,1,1)}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;

				uniform sampler2D maskTexture;
				uniform vec2 texSize;
				uniform vec3 visibleEdgeColor;
				uniform vec3 hiddenEdgeColor;

				void main() {
					vec2 invSize = 1.0 / texSize;
					vec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);
					vec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);
					vec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);
					vec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);
					vec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);
					float diff1 = (c1.r - c2.r)*0.5;
					float diff2 = (c3.r - c4.r)*0.5;
					float d = length( vec2(diff1, diff2) );
					float a1 = min(c1.g, c2.g);
					float a2 = min(c3.g, c4.g);
					float visibilityFactor = min(a1, a2);
					vec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;
					gl_FragColor = vec4(edgeColor, 1.0) * vec4(d);
				}`})}getSeperableBlurMaterial(e){return new ue({defines:{MAX_RADIUS:e},uniforms:{colorTexture:{value:null},texSize:{value:new O(.5,.5)},direction:{value:new O(.5,.5)},kernelRadius:{value:1}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;
				uniform float kernelRadius;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}

				void main() {
					vec2 invSize = 1.0 / texSize;
					float sigma = kernelRadius/2.0;
					float weightSum = gaussianPdf(0.0, sigma);
					vec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;
					vec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);
					vec2 uvOffset = delta;
					for( int i = 1; i <= MAX_RADIUS; i ++ ) {
						float x = kernelRadius * float(i) / float(MAX_RADIUS);
						float w = gaussianPdf(x, sigma);
						vec4 sample1 = texture2D( colorTexture, vUv + uvOffset);
						vec4 sample2 = texture2D( colorTexture, vUv - uvOffset);
						diffuseSum += ((sample1 + sample2) * w);
						weightSum += (2.0 * w);
						uvOffset += delta;
					}
					gl_FragColor = diffuseSum/weightSum;
				}`})}getOverlayMaterial(){return new ue({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;

				uniform sampler2D maskTexture;
				uniform sampler2D edgeTexture1;
				uniform sampler2D edgeTexture2;
				uniform sampler2D patternTexture;
				uniform float edgeStrength;
				uniform float edgeGlow;
				uniform bool usePatternTexture;

				void main() {
					vec4 edgeValue1 = texture2D(edgeTexture1, vUv);
					vec4 edgeValue2 = texture2D(edgeTexture2, vUv);
					vec4 maskColor = texture2D(maskTexture, vUv);
					vec4 patternColor = texture2D(patternTexture, 6.0 * vUv);
					float visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;
					vec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;
					vec4 finalColor = edgeStrength * maskColor.r * edgeValue;
					if(usePatternTexture)
						finalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);
					gl_FragColor = finalColor;
				}`,blending:_s,depthTest:!1,depthWrite:!1,transparent:!0})}}le.BlurDirectionX=new O(1,0);le.BlurDirectionY=new O(0,1);const Dt={type:"change"},rt={type:"start"},Bt={type:"end"};class Wn extends Os{constructor(e,s){super(),this.object=e,this.domElement=s,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new _,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Ae.ROTATE,MIDDLE:Ae.DOLLY,RIGHT:Ae.PAN},this.touches={ONE:xe.ROTATE,TWO:xe.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(f){f.addEventListener("keydown",st),this._domElementKeyEvents=f},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",st),this._domElementKeyEvents=null},this.saveState=function(){t.target0.copy(t.target),t.position0.copy(t.object.position),t.zoom0=t.object.zoom},this.reset=function(){t.target.copy(t.target0),t.object.position.copy(t.position0),t.object.zoom=t.zoom0,t.object.updateProjectionMatrix(),t.dispatchEvent(Dt),t.update(),i=n.NONE},this.update=function(){const f=new _,T=new De().setFromUnitVectors(e.up,new _(0,1,0)),B=T.clone().invert(),I=new _,W=new De,ge=2*Math.PI;return function(){const St=t.object.position;f.copy(St).sub(t.target),f.applyQuaternion(T),o.setFromVector3(f),t.autoRotate&&i===n.NONE&&j(E()),t.enableDamping?(o.theta+=l.theta*t.dampingFactor,o.phi+=l.phi*t.dampingFactor):(o.theta+=l.theta,o.phi+=l.phi);let Z=t.minAzimuthAngle,$=t.maxAzimuthAngle;return isFinite(Z)&&isFinite($)&&(Z<-Math.PI?Z+=ge:Z>Math.PI&&(Z-=ge),$<-Math.PI?$+=ge:$>Math.PI&&($-=ge),Z<=$?o.theta=Math.max(Z,Math.min($,o.theta)):o.theta=o.theta>(Z+$)/2?Math.max(Z,o.theta):Math.min($,o.theta)),o.phi=Math.max(t.minPolarAngle,Math.min(t.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=c,o.radius=Math.max(t.minDistance,Math.min(t.maxDistance,o.radius)),t.enableDamping===!0?t.target.addScaledVector(h,t.dampingFactor):t.target.add(h),f.setFromSpherical(o),f.applyQuaternion(B),St.copy(t.target).add(f),t.object.lookAt(t.target),t.enableDamping===!0?(l.theta*=1-t.dampingFactor,l.phi*=1-t.dampingFactor,h.multiplyScalar(1-t.dampingFactor)):(l.set(0,0,0),h.set(0,0,0)),c=1,u||I.distanceToSquared(t.object.position)>a||8*(1-W.dot(t.object.quaternion))>a?(t.dispatchEvent(Dt),I.copy(t.object.position),W.copy(t.object.quaternion),u=!1,!0):!1}}(),this.dispose=function(){t.domElement.removeEventListener("contextmenu",wt),t.domElement.removeEventListener("pointerdown",se),t.domElement.removeEventListener("pointercancel",bt),t.domElement.removeEventListener("wheel",vt),t.domElement.removeEventListener("pointermove",et),t.domElement.removeEventListener("pointerup",tt),t._domElementKeyEvents!==null&&(t._domElementKeyEvents.removeEventListener("keydown",st),t._domElementKeyEvents=null)};const t=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let i=n.NONE;const a=1e-6,o=new Ct,l=new Ct;let c=1;const h=new _;let u=!1;const d=new O,p=new O,g=new O,A=new O,m=new O,x=new O,b=new O,S=new O,v=new O,y=[],w={};function E(){return 2*Math.PI/60/60*t.autoRotateSpeed}function P(){return Math.pow(.95,t.zoomSpeed)}function j(f){l.theta-=f}function U(f){l.phi-=f}const J=function(){const f=new _;return function(B,I){f.setFromMatrixColumn(I,0),f.multiplyScalar(-B),h.add(f)}}(),F=function(){const f=new _;return function(B,I){t.screenSpacePanning===!0?f.setFromMatrixColumn(I,1):(f.setFromMatrixColumn(I,0),f.crossVectors(t.object.up,f)),f.multiplyScalar(B),h.add(f)}}(),D=function(){const f=new _;return function(B,I){const W=t.domElement;if(t.object.isPerspectiveCamera){const ge=t.object.position;f.copy(ge).sub(t.target);let He=f.length();He*=Math.tan(t.object.fov/2*Math.PI/180),J(2*B*He/W.clientHeight,t.object.matrix),F(2*I*He/W.clientHeight,t.object.matrix)}else t.object.isOrthographicCamera?(J(B*(t.object.right-t.object.left)/t.object.zoom/W.clientWidth,t.object.matrix),F(I*(t.object.top-t.object.bottom)/t.object.zoom/W.clientHeight,t.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),t.enablePan=!1)}}();function q(f){t.object.isPerspectiveCamera?c/=f:t.object.isOrthographicCamera?(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom*f)),t.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function N(f){t.object.isPerspectiveCamera?c*=f:t.object.isOrthographicCamera?(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/f)),t.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function ee(f){d.set(f.clientX,f.clientY)}function me(f){b.set(f.clientX,f.clientY)}function K(f){A.set(f.clientX,f.clientY)}function Ie(f){p.set(f.clientX,f.clientY),g.subVectors(p,d).multiplyScalar(t.rotateSpeed);const T=t.domElement;j(2*Math.PI*g.x/T.clientHeight),U(2*Math.PI*g.y/T.clientHeight),d.copy(p),t.update()}function Ze(f){S.set(f.clientX,f.clientY),v.subVectors(S,b),v.y>0?q(P()):v.y<0&&N(P()),b.copy(S),t.update()}function ke(f){m.set(f.clientX,f.clientY),x.subVectors(m,A).multiplyScalar(t.panSpeed),D(x.x,x.y),A.copy(m),t.update()}function Fe(f){f.deltaY<0?N(P()):f.deltaY>0&&q(P()),t.update()}function $e(f){let T=!1;switch(f.code){case t.keys.UP:f.ctrlKey||f.metaKey||f.shiftKey?U(2*Math.PI*t.rotateSpeed/t.domElement.clientHeight):D(0,t.keyPanSpeed),T=!0;break;case t.keys.BOTTOM:f.ctrlKey||f.metaKey||f.shiftKey?U(-2*Math.PI*t.rotateSpeed/t.domElement.clientHeight):D(0,-t.keyPanSpeed),T=!0;break;case t.keys.LEFT:f.ctrlKey||f.metaKey||f.shiftKey?j(2*Math.PI*t.rotateSpeed/t.domElement.clientHeight):D(t.keyPanSpeed,0),T=!0;break;case t.keys.RIGHT:f.ctrlKey||f.metaKey||f.shiftKey?j(-2*Math.PI*t.rotateSpeed/t.domElement.clientHeight):D(-t.keyPanSpeed,0),T=!0;break}T&&(f.preventDefault(),t.update())}function Ne(){if(y.length===1)d.set(y[0].pageX,y[0].pageY);else{const f=.5*(y[0].pageX+y[1].pageX),T=.5*(y[0].pageY+y[1].pageY);d.set(f,T)}}function je(){if(y.length===1)A.set(y[0].pageX,y[0].pageY);else{const f=.5*(y[0].pageX+y[1].pageX),T=.5*(y[0].pageY+y[1].pageY);A.set(f,T)}}function we(){const f=y[0].pageX-y[1].pageX,T=y[0].pageY-y[1].pageY,B=Math.sqrt(f*f+T*T);b.set(0,B)}function Ee(){t.enableZoom&&we(),t.enablePan&&je()}function Ue(){t.enableZoom&&we(),t.enableRotate&&Ne()}function C(f){if(y.length==1)p.set(f.pageX,f.pageY);else{const B=nt(f),I=.5*(f.pageX+B.x),W=.5*(f.pageY+B.y);p.set(I,W)}g.subVectors(p,d).multiplyScalar(t.rotateSpeed);const T=t.domElement;j(2*Math.PI*g.x/T.clientHeight),U(2*Math.PI*g.y/T.clientHeight),d.copy(p)}function k(f){if(y.length===1)m.set(f.pageX,f.pageY);else{const T=nt(f),B=.5*(f.pageX+T.x),I=.5*(f.pageY+T.y);m.set(B,I)}x.subVectors(m,A).multiplyScalar(t.panSpeed),D(x.x,x.y),A.copy(m)}function G(f){const T=nt(f),B=f.pageX-T.x,I=f.pageY-T.y,W=Math.sqrt(B*B+I*I);S.set(0,W),v.set(0,Math.pow(S.y/b.y,t.zoomSpeed)),q(v.y),b.copy(S)}function Q(f){t.enableZoom&&G(f),t.enablePan&&k(f)}function te(f){t.enableZoom&&G(f),t.enableRotate&&C(f)}function se(f){t.enabled!==!1&&(y.length===0&&(t.domElement.setPointerCapture(f.pointerId),t.domElement.addEventListener("pointermove",et),t.domElement.addEventListener("pointerup",tt)),ps(f),f.pointerType==="touch"?fs(f):us(f))}function et(f){t.enabled!==!1&&(f.pointerType==="touch"?ds(f):hs(f))}function tt(f){Et(f),y.length===0&&(t.domElement.releasePointerCapture(f.pointerId),t.domElement.removeEventListener("pointermove",et),t.domElement.removeEventListener("pointerup",tt)),t.dispatchEvent(Bt),i=n.NONE}function bt(f){Et(f)}function us(f){let T;switch(f.button){case 0:T=t.mouseButtons.LEFT;break;case 1:T=t.mouseButtons.MIDDLE;break;case 2:T=t.mouseButtons.RIGHT;break;default:T=-1}switch(T){case Ae.DOLLY:if(t.enableZoom===!1)return;me(f),i=n.DOLLY;break;case Ae.ROTATE:if(f.ctrlKey||f.metaKey||f.shiftKey){if(t.enablePan===!1)return;K(f),i=n.PAN}else{if(t.enableRotate===!1)return;ee(f),i=n.ROTATE}break;case Ae.PAN:if(f.ctrlKey||f.metaKey||f.shiftKey){if(t.enableRotate===!1)return;ee(f),i=n.ROTATE}else{if(t.enablePan===!1)return;K(f),i=n.PAN}break;default:i=n.NONE}i!==n.NONE&&t.dispatchEvent(rt)}function hs(f){switch(i){case n.ROTATE:if(t.enableRotate===!1)return;Ie(f);break;case n.DOLLY:if(t.enableZoom===!1)return;Ze(f);break;case n.PAN:if(t.enablePan===!1)return;ke(f);break}}function vt(f){t.enabled===!1||t.enableZoom===!1||i!==n.NONE||(f.preventDefault(),t.dispatchEvent(rt),Fe(f),t.dispatchEvent(Bt))}function st(f){t.enabled===!1||t.enablePan===!1||$e(f)}function fs(f){switch(Mt(f),y.length){case 1:switch(t.touches.ONE){case xe.ROTATE:if(t.enableRotate===!1)return;Ne(),i=n.TOUCH_ROTATE;break;case xe.PAN:if(t.enablePan===!1)return;je(),i=n.TOUCH_PAN;break;default:i=n.NONE}break;case 2:switch(t.touches.TWO){case xe.DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;Ee(),i=n.TOUCH_DOLLY_PAN;break;case xe.DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;Ue(),i=n.TOUCH_DOLLY_ROTATE;break;default:i=n.NONE}break;default:i=n.NONE}i!==n.NONE&&t.dispatchEvent(rt)}function ds(f){switch(Mt(f),i){case n.TOUCH_ROTATE:if(t.enableRotate===!1)return;C(f),t.update();break;case n.TOUCH_PAN:if(t.enablePan===!1)return;k(f),t.update();break;case n.TOUCH_DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;Q(f),t.update();break;case n.TOUCH_DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;te(f),t.update();break;default:i=n.NONE}}function wt(f){t.enabled!==!1&&f.preventDefault()}function ps(f){y.push(f)}function Et(f){delete w[f.pointerId];for(let T=0;T<y.length;T++)if(y[T].pointerId==f.pointerId){y.splice(T,1);return}}function Mt(f){let T=w[f.pointerId];T===void 0&&(T=new O,w[f.pointerId]=T),T.set(f.pageX,f.pageY)}function nt(f){const T=f.pointerId===y[0].pointerId?y[1]:y[0];return w[T.pointerId]}t.domElement.addEventListener("contextmenu",wt),t.domElement.addEventListener("pointerdown",se),t.domElement.addEventListener("pointercancel",bt),t.domElement.addEventListener("wheel",vt,{passive:!1}),this.update()}}const qn=/^[og]\s*(.+)?/,Qn=/^mtllib /,Xn=/^usemtl /,Jn=/^usemap /,Pt=/\s+/,It=new _,at=new _,kt=new _,Ft=new _,V=new _,Ge=new H;function Zn(){const r={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,s){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=s!==!1;return}const t=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:s!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(n,i){const a=this._finalize(!1);a&&(a.inherited||a.groupCount<=0)&&this.materials.splice(a.index,1);const o={index:this.materials.length,name:n||"",mtllib:Array.isArray(i)&&i.length>0?i[i.length-1]:"",smooth:a!==void 0?a.smooth:this.smooth,groupStart:a!==void 0?a.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(l){const c={index:typeof l=="number"?l:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return c.clone=this.clone.bind(c),c}};return this.materials.push(o),o},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(n){const i=this.currentMaterial();if(i&&i.groupEnd===-1&&(i.groupEnd=this.geometry.vertices.length/3,i.groupCount=i.groupEnd-i.groupStart,i.inherited=!1),n&&this.materials.length>1)for(let a=this.materials.length-1;a>=0;a--)this.materials[a].groupCount<=0&&this.materials.splice(a,1);return n&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),i}},t&&t.name&&typeof t.clone=="function"){const n=t.clone(0);n.inherited=!0,this.object.materials.push(n)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,s){const t=parseInt(e,10);return(t>=0?t-1:t+s/3)*3},parseNormalIndex:function(e,s){const t=parseInt(e,10);return(t>=0?t-1:t+s/3)*3},parseUVIndex:function(e,s){const t=parseInt(e,10);return(t>=0?t-1:t+s/2)*2},addVertex:function(e,s,t){const n=this.vertices,i=this.object.geometry.vertices;i.push(n[e+0],n[e+1],n[e+2]),i.push(n[s+0],n[s+1],n[s+2]),i.push(n[t+0],n[t+1],n[t+2])},addVertexPoint:function(e){const s=this.vertices;this.object.geometry.vertices.push(s[e+0],s[e+1],s[e+2])},addVertexLine:function(e){const s=this.vertices;this.object.geometry.vertices.push(s[e+0],s[e+1],s[e+2])},addNormal:function(e,s,t){const n=this.normals,i=this.object.geometry.normals;i.push(n[e+0],n[e+1],n[e+2]),i.push(n[s+0],n[s+1],n[s+2]),i.push(n[t+0],n[t+1],n[t+2])},addFaceNormal:function(e,s,t){const n=this.vertices,i=this.object.geometry.normals;It.fromArray(n,e),at.fromArray(n,s),kt.fromArray(n,t),V.subVectors(kt,at),Ft.subVectors(It,at),V.cross(Ft),V.normalize(),i.push(V.x,V.y,V.z),i.push(V.x,V.y,V.z),i.push(V.x,V.y,V.z)},addColor:function(e,s,t){const n=this.colors,i=this.object.geometry.colors;n[e]!==void 0&&i.push(n[e+0],n[e+1],n[e+2]),n[s]!==void 0&&i.push(n[s+0],n[s+1],n[s+2]),n[t]!==void 0&&i.push(n[t+0],n[t+1],n[t+2])},addUV:function(e,s,t){const n=this.uvs,i=this.object.geometry.uvs;i.push(n[e+0],n[e+1]),i.push(n[s+0],n[s+1]),i.push(n[t+0],n[t+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const s=this.uvs;this.object.geometry.uvs.push(s[e+0],s[e+1])},addFace:function(e,s,t,n,i,a,o,l,c){const h=this.vertices.length;let u=this.parseVertexIndex(e,h),d=this.parseVertexIndex(s,h),p=this.parseVertexIndex(t,h);if(this.addVertex(u,d,p),this.addColor(u,d,p),o!==void 0&&o!==""){const g=this.normals.length;u=this.parseNormalIndex(o,g),d=this.parseNormalIndex(l,g),p=this.parseNormalIndex(c,g),this.addNormal(u,d,p)}else this.addFaceNormal(u,d,p);if(n!==void 0&&n!==""){const g=this.uvs.length;u=this.parseUVIndex(n,g),d=this.parseUVIndex(i,g),p=this.parseUVIndex(a,g),this.addUV(u,d,p),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const s=this.vertices.length;for(let t=0,n=e.length;t<n;t++){const i=this.parseVertexIndex(e[t],s);this.addVertexPoint(i),this.addColor(i)}},addLineGeometry:function(e,s){this.object.geometry.type="Line";const t=this.vertices.length,n=this.uvs.length;for(let i=0,a=e.length;i<a;i++)this.addVertexLine(this.parseVertexIndex(e[i],t));for(let i=0,a=s.length;i<a;i++)this.addUVLine(this.parseUVIndex(s[i],n))}};return r.startObject("",!1),r}class $n extends Qt{constructor(e){super(e),this.materials=null}load(e,s,t,n){const i=this,a=new xt(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{s(i.parse(o))}catch(l){n?n(l):console.error(l),i.manager.itemError(e)}},t,n)}setMaterials(e){return this.materials=e,this}parse(e){const s=new Zn;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const t=e.split(`
`);let n=[];for(let o=0,l=t.length;o<l;o++){const c=t[o].trimStart();if(c.length===0)continue;const h=c.charAt(0);if(h!=="#")if(h==="v"){const u=c.split(Pt);switch(u[0]){case"v":s.vertices.push(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])),u.length>=7?(Ge.setRGB(parseFloat(u[4]),parseFloat(u[5]),parseFloat(u[6])).convertSRGBToLinear(),s.colors.push(Ge.r,Ge.g,Ge.b)):s.colors.push(void 0,void 0,void 0);break;case"vn":s.normals.push(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3]));break;case"vt":s.uvs.push(parseFloat(u[1]),parseFloat(u[2]));break}}else if(h==="f"){const d=c.slice(1).trim().split(Pt),p=[];for(let A=0,m=d.length;A<m;A++){const x=d[A];if(x.length>0){const b=x.split("/");p.push(b)}}const g=p[0];for(let A=1,m=p.length-1;A<m;A++){const x=p[A],b=p[A+1];s.addFace(g[0],x[0],b[0],g[1],x[1],b[1],g[2],x[2],b[2])}}else if(h==="l"){const u=c.substring(1).trim().split(" ");let d=[];const p=[];if(c.indexOf("/")===-1)d=u;else for(let g=0,A=u.length;g<A;g++){const m=u[g].split("/");m[0]!==""&&d.push(m[0]),m[1]!==""&&p.push(m[1])}s.addLineGeometry(d,p)}else if(h==="p"){const d=c.slice(1).trim().split(" ");s.addPointGeometry(d)}else if((n=qn.exec(c))!==null){const u=(" "+n[0].slice(1).trim()).slice(1);s.startObject(u)}else if(Xn.test(c))s.object.startMaterial(c.substring(7).trim(),s.materialLibraries);else if(Qn.test(c))s.materialLibraries.push(c.substring(7).trim());else if(Jn.test(c))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(h==="s"){if(n=c.split(" "),n.length>1){const d=n[1].trim().toLowerCase();s.object.smooth=d!=="0"&&d!=="off"}else s.object.smooth=!0;const u=s.object.currentMaterial();u&&(u.smooth=s.object.smooth)}else{if(c==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+c+'"')}}s.finalize();const i=new ze;if(i.materialLibraries=[].concat(s.materialLibraries),!(s.objects.length===1&&s.objects[0].geometry.vertices.length===0)===!0)for(let o=0,l=s.objects.length;o<l;o++){const c=s.objects[o],h=c.geometry,u=c.materials,d=h.type==="Line",p=h.type==="Points";let g=!1;if(h.vertices.length===0)continue;const A=new Ke;A.setAttribute("position",new re(h.vertices,3)),h.normals.length>0&&A.setAttribute("normal",new re(h.normals,3)),h.colors.length>0&&(g=!0,A.setAttribute("color",new re(h.colors,3))),h.hasUVIndices===!0&&A.setAttribute("uv",new re(h.uvs,2));const m=[];for(let b=0,S=u.length;b<S;b++){const v=u[b],y=v.name+"_"+v.smooth+"_"+g;let w=s.materials[y];if(this.materials!==null){if(w=this.materials.create(v.name),d&&w&&!(w instanceof Ve)){const E=new Ve;Oe.prototype.copy.call(E,w),E.color.copy(w.color),w=E}else if(p&&w&&!(w instanceof Re)){const E=new Re({size:10,sizeAttenuation:!1});Oe.prototype.copy.call(E,w),E.color.copy(w.color),E.map=w.map,w=E}}w===void 0&&(d?w=new Ve:p?w=new Re({size:1,sizeAttenuation:!1}):w=new Ls,w.name=v.name,w.flatShading=!v.smooth,w.vertexColors=g,s.materials[y]=w),m.push(w)}let x;if(m.length>1){for(let b=0,S=u.length;b<S;b++){const v=u[b];A.addGroup(v.groupStart,v.groupCount,b)}d?x=new ht(A,m):p?x=new Ye(A,m):x=new We(A,m)}else d?x=new ht(A,m[0]):p?x=new Ye(A,m[0]):x=new We(A,m[0]);x.name=c.name,i.add(x)}else if(s.vertices.length>0){const o=new Re({size:1,sizeAttenuation:!1}),l=new Ke;l.setAttribute("position",new re(s.vertices,3)),s.colors.length>0&&s.colors[0]!==void 0&&(l.setAttribute("color",new re(s.colors,3)),o.vertexColors=!0);const c=new Ye(l,o);i.add(c)}return i}}function Nt(r,e){if(e===Ds)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),r;if(e===ft||e===Xt){let s=r.getIndex();if(s===null){const a=[],o=r.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)a.push(l);r.setIndex(a),s=r.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r}const t=s.count-2,n=[];if(e===ft)for(let a=1;a<=t;a++)n.push(s.getX(0)),n.push(s.getX(a)),n.push(s.getX(a+1));else for(let a=0;a<t;a++)a%2===0?(n.push(s.getX(a)),n.push(s.getX(a+1)),n.push(s.getX(a+2))):(n.push(s.getX(a+2)),n.push(s.getX(a+1)),n.push(s.getX(a)));n.length/3!==t&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const i=r.clone();return i.setIndex(n),i.clearGroups(),i}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),r}class ei extends Qt{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(s){return new ri(s)}),this.register(function(s){return new fi(s)}),this.register(function(s){return new di(s)}),this.register(function(s){return new pi(s)}),this.register(function(s){return new oi(s)}),this.register(function(s){return new li(s)}),this.register(function(s){return new ci(s)}),this.register(function(s){return new ui(s)}),this.register(function(s){return new ii(s)}),this.register(function(s){return new hi(s)}),this.register(function(s){return new ai(s)}),this.register(function(s){return new si(s)}),this.register(function(s){return new mi(s)}),this.register(function(s){return new gi(s)})}load(e,s,t,n){const i=this;let a;this.resourcePath!==""?a=this.resourcePath:this.path!==""?a=this.path:a=dt.extractUrlBase(e),this.manager.itemStart(e);const o=function(c){n?n(c):console.error(c),i.manager.itemError(e),i.manager.itemEnd(e)},l=new xt(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{i.parse(c,a,function(h){s(h),i.manager.itemEnd(e)},o)}catch(h){o(h)}},t,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,s,t,n){let i;const a={},o={},l=new TextDecoder;if(typeof e=="string")i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===as){try{a[R.KHR_BINARY_GLTF]=new Ai(e)}catch(u){n&&n(u);return}i=JSON.parse(a[R.KHR_BINARY_GLTF].content)}else i=JSON.parse(l.decode(e));else i=e;if(i.asset===void 0||i.asset.version[0]<2){n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new Oi(i,{path:s||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let h=0;h<this.pluginCallbacks.length;h++){const u=this.pluginCallbacks[h](c);o[u.name]=u,a[u.name]=!0}if(i.extensionsUsed)for(let h=0;h<i.extensionsUsed.length;++h){const u=i.extensionsUsed[h],d=i.extensionsRequired||[];switch(u){case R.KHR_MATERIALS_UNLIT:a[u]=new ni;break;case R.KHR_DRACO_MESH_COMPRESSION:a[u]=new xi(i,this.dracoLoader);break;case R.KHR_TEXTURE_TRANSFORM:a[u]=new Ti;break;case R.KHR_MESH_QUANTIZATION:a[u]=new yi;break;default:d.indexOf(u)>=0&&o[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}c.setExtensions(a),c.setPlugins(o),c.parse(t,n)}parseAsync(e,s){const t=this;return new Promise(function(n,i){t.parse(e,s,n,i)})}}function ti(){let r={};return{get:function(e){return r[e]},add:function(e,s){r[e]=s},remove:function(e){delete r[e]},removeAll:function(){r={}}}}const R={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class si{constructor(e){this.parser=e,this.name=R.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,s=this.parser.json.nodes||[];for(let t=0,n=s.length;t<n;t++){const i=s[t];i.extensions&&i.extensions[this.name]&&i.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(e){const s=this.parser,t="light:"+e;let n=s.cache.get(t);if(n)return n;const i=s.json,l=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let c;const h=new H(16777215);l.color!==void 0&&h.fromArray(l.color);const u=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new Jt(h),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Ps(h),c.distance=u;break;case"spot":c=new Bs(h),c.distance=u,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,ae(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=s.createUniqueName(l.name||"light_"+e),n=Promise.resolve(c),s.cache.add(t,n),n}getDependency(e,s){if(e==="light")return this._loadLight(s)}createNodeAttachment(e){const s=this,t=this.parser,i=t.json.nodes[e],o=(i.extensions&&i.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return t._getNodeRef(s.cache,o,l)})}}class ni{constructor(){this.name=R.KHR_MATERIALS_UNLIT}getMaterialType(){return Te}extendParams(e,s,t){const n=[];e.color=new H(1,1,1),e.opacity=1;const i=s.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}i.baseColorTexture!==void 0&&n.push(t.assignTexture(e,"map",i.baseColorTexture,Be))}return Promise.all(n)}}class ii{constructor(e){this.parser=e,this.name=R.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,s){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name].emissiveStrength;return i!==void 0&&(s.emissiveIntensity=i),Promise.resolve()}}class ri{constructor(e){this.parser=e,this.name=R.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:pe}extendMaterialParams(e,s){const t=this.parser,n=t.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],a=n.extensions[this.name];if(a.clearcoatFactor!==void 0&&(s.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&i.push(t.assignTexture(s,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(s.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&i.push(t.assignTexture(s,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(i.push(t.assignTexture(s,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const o=a.clearcoatNormalTexture.scale;s.clearcoatNormalScale=new O(o,o)}return Promise.all(i)}}class ai{constructor(e){this.parser=e,this.name=R.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:pe}extendMaterialParams(e,s){const t=this.parser,n=t.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],a=n.extensions[this.name];return a.iridescenceFactor!==void 0&&(s.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&i.push(t.assignTexture(s,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(s.iridescenceIOR=a.iridescenceIor),s.iridescenceThicknessRange===void 0&&(s.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(s.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(s.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&i.push(t.assignTexture(s,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}class oi{constructor(e){this.parser=e,this.name=R.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:pe}extendMaterialParams(e,s){const t=this.parser,n=t.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[];s.sheenColor=new H(0,0,0),s.sheenRoughness=0,s.sheen=1;const a=n.extensions[this.name];return a.sheenColorFactor!==void 0&&s.sheenColor.fromArray(a.sheenColorFactor),a.sheenRoughnessFactor!==void 0&&(s.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&i.push(t.assignTexture(s,"sheenColorMap",a.sheenColorTexture,Be)),a.sheenRoughnessTexture!==void 0&&i.push(t.assignTexture(s,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}class li{constructor(e){this.parser=e,this.name=R.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:pe}extendMaterialParams(e,s){const t=this.parser,n=t.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],a=n.extensions[this.name];return a.transmissionFactor!==void 0&&(s.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&i.push(t.assignTexture(s,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}class ci{constructor(e){this.parser=e,this.name=R.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:pe}extendMaterialParams(e,s){const t=this.parser,n=t.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],a=n.extensions[this.name];s.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&i.push(t.assignTexture(s,"thicknessMap",a.thicknessTexture)),s.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return s.attenuationColor=new H(o[0],o[1],o[2]),Promise.all(i)}}class ui{constructor(e){this.parser=e,this.name=R.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:pe}extendMaterialParams(e,s){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name];return s.ior=i.ior!==void 0?i.ior:1.5,Promise.resolve()}}class hi{constructor(e){this.parser=e,this.name=R.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:pe}extendMaterialParams(e,s){const t=this.parser,n=t.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],a=n.extensions[this.name];s.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&i.push(t.assignTexture(s,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return s.specularColor=new H(o[0],o[1],o[2]),a.specularColorTexture!==void 0&&i.push(t.assignTexture(s,"specularColorMap",a.specularColorTexture,Be)),Promise.all(i)}}class fi{constructor(e){this.parser=e,this.name=R.KHR_TEXTURE_BASISU}loadTexture(e){const s=this.parser,t=s.json,n=t.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const i=n.extensions[this.name],a=s.options.ktx2Loader;if(!a){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return s.loadTextureImage(e,i.source,a)}}class di{constructor(e){this.parser=e,this.name=R.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const s=this.name,t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[s])return null;const a=i.extensions[s],o=n.images[a.source];let l=t.textureLoader;if(o.uri){const c=t.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return t.loadTextureImage(e,a.source,l);if(n.extensionsRequired&&n.extensionsRequired.indexOf(s)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return t.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const s=new Image;s.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",s.onload=s.onerror=function(){e(s.height===1)}})),this.isSupported}}class pi{constructor(e){this.parser=e,this.name=R.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const s=this.name,t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[s])return null;const a=i.extensions[s],o=n.images[a.source];let l=t.textureLoader;if(o.uri){const c=t.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return t.loadTextureImage(e,a.source,l);if(n.extensionsRequired&&n.extensionsRequired.indexOf(s)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return t.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const s=new Image;s.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",s.onload=s.onerror=function(){e(s.height===1)}})),this.isSupported}}class mi{constructor(e){this.name=R.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const s=this.parser.json,t=s.bufferViews[e];if(t.extensions&&t.extensions[this.name]){const n=t.extensions[this.name],i=this.parser.getDependency("buffer",n.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then(function(o){const l=n.byteOffset||0,c=n.byteLength||0,h=n.count,u=n.byteStride,d=new Uint8Array(o,l,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(h,u,d,n.mode,n.filter).then(function(p){return p.buffer}):a.ready.then(function(){const p=new ArrayBuffer(h*u);return a.decodeGltfBuffer(new Uint8Array(p),h,u,d,n.mode,n.filter),p})})}else return null}}class gi{constructor(e){this.name=R.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const s=this.parser.json,t=s.nodes[e];if(!t.extensions||!t.extensions[this.name]||t.mesh===void 0)return null;const n=s.meshes[t.mesh];for(const c of n.primitives)if(c.mode!==Y.TRIANGLES&&c.mode!==Y.TRIANGLE_STRIP&&c.mode!==Y.TRIANGLE_FAN&&c.mode!==void 0)return null;const a=t.extensions[this.name].attributes,o=[],l={};for(const c in a)o.push(this.parser.getDependency("accessor",a[c]).then(h=>(l[c]=h,l[c])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(c=>{const h=c.pop(),u=h.isGroup?h.children:[h],d=c[0].count,p=[];for(const g of u){const A=new de,m=new _,x=new De,b=new _(1,1,1),S=new Is(g.geometry,g.material,d);for(let v=0;v<d;v++)l.TRANSLATION&&m.fromBufferAttribute(l.TRANSLATION,v),l.ROTATION&&x.fromBufferAttribute(l.ROTATION,v),l.SCALE&&b.fromBufferAttribute(l.SCALE,v),S.setMatrixAt(v,A.compose(m,x,b));for(const v in l)v!=="TRANSLATION"&&v!=="ROTATION"&&v!=="SCALE"&&g.geometry.setAttribute(v,l[v]);Zt.prototype.copy.call(S,g),S.frustumCulled=!1,this.parser.assignFinalMaterial(S),p.push(S)}return h.isGroup?(h.clear(),h.add(...p),h):p[0]}))}}const as="glTF",Me=12,jt={JSON:1313821514,BIN:5130562};class Ai{constructor(e){this.name=R.KHR_BINARY_GLTF,this.content=null,this.body=null;const s=new DataView(e,0,Me),t=new TextDecoder;if(this.header={magic:t.decode(new Uint8Array(e.slice(0,4))),version:s.getUint32(4,!0),length:s.getUint32(8,!0)},this.header.magic!==as)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-Me,i=new DataView(e,Me);let a=0;for(;a<n;){const o=i.getUint32(a,!0);a+=4;const l=i.getUint32(a,!0);if(a+=4,l===jt.JSON){const c=new Uint8Array(e,Me+a,o);this.content=t.decode(c)}else if(l===jt.BIN){const c=Me+a;this.body=e.slice(c,c+o)}a+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class xi{constructor(e,s){if(!s)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=R.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=s,this.dracoLoader.preload()}decodePrimitive(e,s){const t=this.json,n=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},l={},c={};for(const h in a){const u=mt[h]||h.toLowerCase();o[u]=a[h]}for(const h in e.attributes){const u=mt[h]||h.toLowerCase();if(a[h]!==void 0){const d=t.accessors[e.attributes[h]],p=ve[d.componentType];c[u]=p.name,l[u]=d.normalized===!0}}return s.getDependency("bufferView",i).then(function(h){return new Promise(function(u){n.decodeDracoFile(h,function(d){for(const p in d.attributes){const g=d.attributes[p],A=l[p];A!==void 0&&(g.normalized=A)}u(d)},o,c)})})}}class Ti{constructor(){this.name=R.KHR_TEXTURE_TRANSFORM}extendTexture(e,s){return s.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),s.offset===void 0&&s.rotation===void 0&&s.scale===void 0||(e=e.clone(),s.offset!==void 0&&e.offset.fromArray(s.offset),s.rotation!==void 0&&(e.rotation=s.rotation),s.scale!==void 0&&e.repeat.fromArray(s.scale),e.needsUpdate=!0),e}}class yi{constructor(){this.name=R.KHR_MESH_QUANTIZATION}}class os extends on{constructor(e,s,t,n){super(e,s,t,n)}copySampleValue_(e){const s=this.resultBuffer,t=this.sampleValues,n=this.valueSize,i=e*n*3+n;for(let a=0;a!==n;a++)s[a]=t[i+a];return s}interpolate_(e,s,t,n){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,h=n-s,u=(t-s)/h,d=u*u,p=d*u,g=e*c,A=g-c,m=-2*p+3*d,x=p-d,b=1-m,S=x-d+u;for(let v=0;v!==o;v++){const y=a[A+v+o],w=a[A+v+l]*h,E=a[g+v+o],P=a[g+v]*h;i[v]=b*y+S*w+m*E+x*P}return i}}const bi=new De;class vi extends os{interpolate_(e,s,t,n){const i=super.interpolate_(e,s,t,n);return bi.fromArray(i).normalize().toArray(i),i}}const Y={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},ve={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Ut={9728:Ws,9729:$t,9984:qs,9985:Qs,9986:Xs,9987:es},Ht={33071:Js,33648:Zs,10497:pt},ot={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},mt={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ne={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},wi={CUBICSPLINE:void 0,LINEAR:ns,STEP:$s},lt={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Ei(r){return r.DefaultMaterial===void 0&&(r.DefaultMaterial=new ts({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:en})),r.DefaultMaterial}function Se(r,e,s){for(const t in s.extensions)r[t]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[t]=s.extensions[t])}function ae(r,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(r.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Mi(r,e,s){let t=!1,n=!1,i=!1;for(let c=0,h=e.length;c<h;c++){const u=e[c];if(u.POSITION!==void 0&&(t=!0),u.NORMAL!==void 0&&(n=!0),u.COLOR_0!==void 0&&(i=!0),t&&n&&i)break}if(!t&&!n&&!i)return Promise.resolve(r);const a=[],o=[],l=[];for(let c=0,h=e.length;c<h;c++){const u=e[c];if(t){const d=u.POSITION!==void 0?s.getDependency("accessor",u.POSITION):r.attributes.position;a.push(d)}if(n){const d=u.NORMAL!==void 0?s.getDependency("accessor",u.NORMAL):r.attributes.normal;o.push(d)}if(i){const d=u.COLOR_0!==void 0?s.getDependency("accessor",u.COLOR_0):r.attributes.color;l.push(d)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const h=c[0],u=c[1],d=c[2];return t&&(r.morphAttributes.position=h),n&&(r.morphAttributes.normal=u),i&&(r.morphAttributes.color=d),r.morphTargetsRelative=!0,r})}function Si(r,e){if(r.updateMorphTargets(),e.weights!==void 0)for(let s=0,t=e.weights.length;s<t;s++)r.morphTargetInfluences[s]=e.weights[s];if(e.extras&&Array.isArray(e.extras.targetNames)){const s=e.extras.targetNames;if(r.morphTargetInfluences.length===s.length){r.morphTargetDictionary={};for(let t=0,n=s.length;t<n;t++)r.morphTargetDictionary[s[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ri(r){const e=r.extensions&&r.extensions[R.KHR_DRACO_MESH_COMPRESSION];let s;return e?s="draco:"+e.bufferView+":"+e.indices+":"+Gt(e.attributes):s=r.indices+":"+Gt(r.attributes)+":"+r.mode,s}function Gt(r){let e="";const s=Object.keys(r).sort();for(let t=0,n=s.length;t<n;t++)e+=s[t]+":"+r[s[t]]+";";return e}function gt(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Ci(r){return r.search(/\.jpe?g($|\?)/i)>0||r.search(/^data\:image\/jpeg/)===0?"image/jpeg":r.search(/\.webp($|\?)/i)>0||r.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const _i=new de;class Oi{constructor(e={},s={}){this.json=e,this.extensions={},this.plugins={},this.options=s,this.cache=new ti,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let t=!1,n=!1,i=-1;typeof navigator<"u"&&(t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,n=navigator.userAgent.indexOf("Firefox")>-1,i=n?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||t||n&&i<98?this.textureLoader=new ks(this.options.manager):this.textureLoader=new Fs(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new xt(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,s){const t=this,n=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([t.getDependencies("scene"),t.getDependencies("animation"),t.getDependencies("camera")])}).then(function(a){const o={scene:a[0][n.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:n.asset,parser:t,userData:{}};Se(i,o,n),ae(o,n),Promise.all(t._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){e(o)})}).catch(s)}_markDefs(){const e=this.json.nodes||[],s=this.json.skins||[],t=this.json.meshes||[];for(let n=0,i=s.length;n<i;n++){const a=s[n].joints;for(let o=0,l=a.length;o<l;o++)e[a[o]].isBone=!0}for(let n=0,i=e.length;n<i;n++){const a=e[n];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(t[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,s){s!==void 0&&(e.refs[s]===void 0&&(e.refs[s]=e.uses[s]=0),e.refs[s]++)}_getNodeRef(e,s,t){if(e.refs[s]<=1)return t;const n=t.clone(),i=(a,o)=>{const l=this.associations.get(a);l!=null&&this.associations.set(o,l);for(const[c,h]of a.children.entries())i(h,o.children[c])};return i(t,n),n.name+="_instance_"+e.uses[s]++,n}_invokeOne(e){const s=Object.values(this.plugins);s.push(this);for(let t=0;t<s.length;t++){const n=e(s[t]);if(n)return n}return null}_invokeAll(e){const s=Object.values(this.plugins);s.unshift(this);const t=[];for(let n=0;n<s.length;n++){const i=e(s[n]);i&&t.push(i)}return t}getDependency(e,s){const t=e+":"+s;let n=this.cache.get(t);if(!n){switch(e){case"scene":n=this.loadScene(s);break;case"node":n=this._invokeOne(function(i){return i.loadNode&&i.loadNode(s)});break;case"mesh":n=this._invokeOne(function(i){return i.loadMesh&&i.loadMesh(s)});break;case"accessor":n=this.loadAccessor(s);break;case"bufferView":n=this._invokeOne(function(i){return i.loadBufferView&&i.loadBufferView(s)});break;case"buffer":n=this.loadBuffer(s);break;case"material":n=this._invokeOne(function(i){return i.loadMaterial&&i.loadMaterial(s)});break;case"texture":n=this._invokeOne(function(i){return i.loadTexture&&i.loadTexture(s)});break;case"skin":n=this.loadSkin(s);break;case"animation":n=this._invokeOne(function(i){return i.loadAnimation&&i.loadAnimation(s)});break;case"camera":n=this.loadCamera(s);break;default:if(n=this._invokeOne(function(i){return i!=this&&i.getDependency&&i.getDependency(e,s)}),!n)throw new Error("Unknown type: "+e);break}this.cache.add(t,n)}return n}getDependencies(e){let s=this.cache.get(e);if(!s){const t=this,n=this.json[e+(e==="mesh"?"es":"s")]||[];s=Promise.all(n.map(function(i,a){return t.getDependency(e,a)})),this.cache.add(e,s)}return s}loadBuffer(e){const s=this.json.buffers[e],t=this.fileLoader;if(s.type&&s.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+s.type+" buffer type is not supported.");if(s.uri===void 0&&e===0)return Promise.resolve(this.extensions[R.KHR_BINARY_GLTF].body);const n=this.options;return new Promise(function(i,a){t.load(dt.resolveURL(s.uri,n.path),i,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+s.uri+'".'))})})}loadBufferView(e){const s=this.json.bufferViews[e];return this.getDependency("buffer",s.buffer).then(function(t){const n=s.byteLength||0,i=s.byteOffset||0;return t.slice(i,i+n)})}loadAccessor(e){const s=this,t=this.json,n=this.json.accessors[e];if(n.bufferView===void 0&&n.sparse===void 0){const a=ot[n.type],o=ve[n.componentType],l=n.normalized===!0,c=new o(n.count*a);return Promise.resolve(new it(c,a,l))}const i=[];return n.bufferView!==void 0?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),n.sparse!==void 0&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then(function(a){const o=a[0],l=ot[n.type],c=ve[n.componentType],h=c.BYTES_PER_ELEMENT,u=h*l,d=n.byteOffset||0,p=n.bufferView!==void 0?t.bufferViews[n.bufferView].byteStride:void 0,g=n.normalized===!0;let A,m;if(p&&p!==u){const x=Math.floor(d/p),b="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+x+":"+n.count;let S=s.cache.get(b);S||(A=new c(o,x*p,n.count*p/h),S=new Ns(A,p/h),s.cache.add(b,S)),m=new tn(S,l,d%p/h,g)}else o===null?A=new c(n.count*l):A=new c(o,d,n.count*l),m=new it(A,l,g);if(n.sparse!==void 0){const x=ot.SCALAR,b=ve[n.sparse.indices.componentType],S=n.sparse.indices.byteOffset||0,v=n.sparse.values.byteOffset||0,y=new b(a[1],S,n.sparse.count*x),w=new c(a[2],v,n.sparse.count*l);o!==null&&(m=new it(m.array.slice(),m.itemSize,m.normalized));for(let E=0,P=y.length;E<P;E++){const j=y[E];if(m.setX(j,w[E*l]),l>=2&&m.setY(j,w[E*l+1]),l>=3&&m.setZ(j,w[E*l+2]),l>=4&&m.setW(j,w[E*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return m})}loadTexture(e){const s=this.json,t=this.options,i=s.textures[e].source,a=s.images[i];let o=this.textureLoader;if(a.uri){const l=t.manager.getHandler(a.uri);l!==null&&(o=l)}return this.loadTextureImage(e,i,o)}loadTextureImage(e,s,t){const n=this,i=this.json,a=i.textures[e],o=i.images[s],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(s,t).then(function(h){h.flipY=!1,h.name=a.name||o.name||"";const d=(i.samplers||{})[a.sampler]||{};return h.magFilter=Ut[d.magFilter]||$t,h.minFilter=Ut[d.minFilter]||es,h.wrapS=Ht[d.wrapS]||pt,h.wrapT=Ht[d.wrapT]||pt,n.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,s){const t=this,n=this.json,i=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(u=>u.clone());const a=n.images[e],o=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(a.bufferView!==void 0)l=t.getDependency("bufferView",a.bufferView).then(function(u){c=!0;const d=new Blob([u],{type:a.mimeType});return l=o.createObjectURL(d),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(l).then(function(u){return new Promise(function(d,p){let g=d;s.isImageBitmapLoader===!0&&(g=function(A){const m=new _t(A);m.needsUpdate=!0,d(m)}),s.load(dt.resolveURL(u,i.path),g,void 0,p)})}).then(function(u){return c===!0&&o.revokeObjectURL(l),u.userData.mimeType=a.mimeType||Ci(a.uri),u}).catch(function(u){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),u});return this.sourceCache[e]=h,h}assignTexture(e,s,t,n){const i=this;return this.getDependency("texture",t.index).then(function(a){if(!a)return null;if(t.texCoord!==void 0&&t.texCoord!=0&&!(s==="aoMap"&&t.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+t.texCoord+" for texture "+s+" not yet supported."),i.extensions[R.KHR_TEXTURE_TRANSFORM]){const o=t.extensions!==void 0?t.extensions[R.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=i.associations.get(a);a=i.extensions[R.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,l)}}return n!==void 0&&(a.encoding=n),e[s]=a,a})}assignFinalMaterial(e){const s=e.geometry;let t=e.material;const n=s.attributes.tangent===void 0,i=s.attributes.color!==void 0,a=s.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+t.uuid;let l=this.cache.get(o);l||(l=new Re,Oe.prototype.copy.call(l,t),l.color.copy(t.color),l.map=t.map,l.sizeAttenuation=!1,this.cache.add(o,l)),t=l}else if(e.isLine){const o="LineBasicMaterial:"+t.uuid;let l=this.cache.get(o);l||(l=new Ve,Oe.prototype.copy.call(l,t),l.color.copy(t.color),this.cache.add(o,l)),t=l}if(n||i||a){let o="ClonedMaterial:"+t.uuid+":";n&&(o+="derivative-tangents:"),i&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=t.clone(),i&&(l.vertexColors=!0),a&&(l.flatShading=!0),n&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(t))),t=l}t.aoMap&&s.attributes.uv2===void 0&&s.attributes.uv!==void 0&&s.setAttribute("uv2",s.attributes.uv),e.material=t}getMaterialType(){return ts}loadMaterial(e){const s=this,t=this.json,n=this.extensions,i=t.materials[e];let a;const o={},l=i.extensions||{},c=[];if(l[R.KHR_MATERIALS_UNLIT]){const u=n[R.KHR_MATERIALS_UNLIT];a=u.getMaterialType(),c.push(u.extendParams(o,i,s))}else{const u=i.pbrMetallicRoughness||{};if(o.color=new H(1,1,1),o.opacity=1,Array.isArray(u.baseColorFactor)){const d=u.baseColorFactor;o.color.fromArray(d),o.opacity=d[3]}u.baseColorTexture!==void 0&&c.push(s.assignTexture(o,"map",u.baseColorTexture,Be)),o.metalness=u.metallicFactor!==void 0?u.metallicFactor:1,o.roughness=u.roughnessFactor!==void 0?u.roughnessFactor:1,u.metallicRoughnessTexture!==void 0&&(c.push(s.assignTexture(o,"metalnessMap",u.metallicRoughnessTexture)),c.push(s.assignTexture(o,"roughnessMap",u.metallicRoughnessTexture))),a=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,o)})))}i.doubleSided===!0&&(o.side=qe);const h=i.alphaMode||lt.OPAQUE;if(h===lt.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,h===lt.MASK&&(o.alphaTest=i.alphaCutoff!==void 0?i.alphaCutoff:.5)),i.normalTexture!==void 0&&a!==Te&&(c.push(s.assignTexture(o,"normalMap",i.normalTexture)),o.normalScale=new O(1,1),i.normalTexture.scale!==void 0)){const u=i.normalTexture.scale;o.normalScale.set(u,u)}return i.occlusionTexture!==void 0&&a!==Te&&(c.push(s.assignTexture(o,"aoMap",i.occlusionTexture)),i.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=i.occlusionTexture.strength)),i.emissiveFactor!==void 0&&a!==Te&&(o.emissive=new H().fromArray(i.emissiveFactor)),i.emissiveTexture!==void 0&&a!==Te&&c.push(s.assignTexture(o,"emissiveMap",i.emissiveTexture,Be)),Promise.all(c).then(function(){const u=new a(o);return i.name&&(u.name=i.name),ae(u,i),s.associations.set(u,{materials:e}),i.extensions&&Se(n,u,i),u})}createUniqueName(e){const s=js.sanitizeNodeName(e||"");let t=s;for(let n=1;this.nodeNamesUsed[t];++n)t=s+"_"+n;return this.nodeNamesUsed[t]=!0,t}loadGeometries(e){const s=this,t=this.extensions,n=this.primitiveCache;function i(o){return t[R.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,s).then(function(l){return zt(l,o,s)})}const a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],h=Ri(c),u=n[h];if(u)a.push(u.promise);else{let d;c.extensions&&c.extensions[R.KHR_DRACO_MESH_COMPRESSION]?d=i(c):d=zt(new Ke,c,s),n[h]={primitive:c,promise:d},a.push(d)}}return Promise.all(a)}loadMesh(e){const s=this,t=this.json,n=this.extensions,i=t.meshes[e],a=i.primitives,o=[];for(let l=0,c=a.length;l<c;l++){const h=a[l].material===void 0?Ei(this.cache):this.getDependency("material",a[l].material);o.push(h)}return o.push(s.loadGeometries(a)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),h=l[l.length-1],u=[];for(let p=0,g=h.length;p<g;p++){const A=h[p],m=a[p];let x;const b=c[p];if(m.mode===Y.TRIANGLES||m.mode===Y.TRIANGLE_STRIP||m.mode===Y.TRIANGLE_FAN||m.mode===void 0)x=i.isSkinnedMesh===!0?new Us(A,b):new We(A,b),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),m.mode===Y.TRIANGLE_STRIP?x.geometry=Nt(x.geometry,Xt):m.mode===Y.TRIANGLE_FAN&&(x.geometry=Nt(x.geometry,ft));else if(m.mode===Y.LINES)x=new ht(A,b);else if(m.mode===Y.LINE_STRIP)x=new Hs(A,b);else if(m.mode===Y.LINE_LOOP)x=new Gs(A,b);else if(m.mode===Y.POINTS)x=new Ye(A,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);Object.keys(x.geometry.morphAttributes).length>0&&Si(x,i),x.name=s.createUniqueName(i.name||"mesh_"+e),ae(x,i),m.extensions&&Se(n,x,m),s.assignFinalMaterial(x),u.push(x)}for(let p=0,g=u.length;p<g;p++)s.associations.set(u[p],{meshes:e,primitives:p});if(u.length===1)return u[0];const d=new ze;s.associations.set(d,{meshes:e});for(let p=0,g=u.length;p<g;p++)d.add(u[p]);return d})}loadCamera(e){let s;const t=this.json.cameras[e],n=t[t.type];if(!n){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return t.type==="perspective"?s=new ss(zs.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):t.type==="orthographic"&&(s=new Kt(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),t.name&&(s.name=this.createUniqueName(t.name)),ae(s,t),Promise.resolve(s)}loadSkin(e){const s=this.json.skins[e],t=[];for(let n=0,i=s.joints.length;n<i;n++)t.push(this._loadNodeShallow(s.joints[n]));return s.inverseBindMatrices!==void 0?t.push(this.getDependency("accessor",s.inverseBindMatrices)):t.push(null),Promise.all(t).then(function(n){const i=n.pop(),a=n,o=[],l=[];for(let c=0,h=a.length;c<h;c++){const u=a[c];if(u){o.push(u);const d=new de;i!==null&&d.fromArray(i.array,c*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',s.joints[c])}return new Vs(o,l)})}loadAnimation(e){const t=this.json.animations[e],n=[],i=[],a=[],o=[],l=[];for(let c=0,h=t.channels.length;c<h;c++){const u=t.channels[c],d=t.samplers[u.sampler],p=u.target,g=p.node,A=t.parameters!==void 0?t.parameters[d.input]:d.input,m=t.parameters!==void 0?t.parameters[d.output]:d.output;n.push(this.getDependency("node",g)),i.push(this.getDependency("accessor",A)),a.push(this.getDependency("accessor",m)),o.push(d),l.push(p)}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const h=c[0],u=c[1],d=c[2],p=c[3],g=c[4],A=[];for(let x=0,b=h.length;x<b;x++){const S=h[x],v=u[x],y=d[x],w=p[x],E=g[x];if(S===void 0)continue;S.updateMatrix();let P;switch(ne[E.path]){case ne.weights:P=nn;break;case ne.rotation:P=Ot;break;case ne.position:case ne.scale:default:P=sn;break}const j=S.name?S.name:S.uuid,U=w.interpolation!==void 0?wi[w.interpolation]:ns,J=[];ne[E.path]===ne.weights?S.traverse(function(D){D.morphTargetInfluences&&J.push(D.name?D.name:D.uuid)}):J.push(j);let F=y.array;if(y.normalized){const D=gt(F.constructor),q=new Float32Array(F.length);for(let N=0,ee=F.length;N<ee;N++)q[N]=F[N]*D;F=q}for(let D=0,q=J.length;D<q;D++){const N=new P(J[D]+"."+ne[E.path],v.array,F,U);w.interpolation==="CUBICSPLINE"&&(N.createInterpolant=function(me){const K=this instanceof Ot?vi:os;return new K(this.times,this.values,this.getValueSize()/3,me)},N.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),A.push(N)}}const m=t.name?t.name:"animation_"+e;return new Ys(m,void 0,A)})}createNodeMesh(e){const s=this.json,t=this,n=s.nodes[e];return n.mesh===void 0?null:t.getDependency("mesh",n.mesh).then(function(i){const a=t._getNodeRef(t.meshCache,n.mesh,i);return n.weights!==void 0&&a.traverse(function(o){if(o.isMesh)for(let l=0,c=n.weights.length;l<c;l++)o.morphTargetInfluences[l]=n.weights[l]}),a})}loadNode(e){const s=this.json,t=this,n=s.nodes[e],i=t._loadNodeShallow(e),a=[],o=n.children||[];for(let c=0,h=o.length;c<h;c++)a.push(t.getDependency("node",o[c]));const l=n.skin===void 0?Promise.resolve(null):t.getDependency("skin",n.skin);return Promise.all([i,Promise.all(a),l]).then(function(c){const h=c[0],u=c[1],d=c[2];d!==null&&h.traverse(function(p){p.isSkinnedMesh&&p.bind(d,_i)});for(let p=0,g=u.length;p<g;p++)h.add(u[p]);return h})}_loadNodeShallow(e){const s=this.json,t=this.extensions,n=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const i=s.nodes[e],a=i.name?n.createUniqueName(i.name):"",o=[],l=n._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),i.camera!==void 0&&o.push(n.getDependency("camera",i.camera).then(function(c){return n._getNodeRef(n.cameraCache,i.camera,c)})),n._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),this.nodeCache[e]=Promise.all(o).then(function(c){let h;if(i.isBone===!0?h=new Ks:c.length>1?h=new ze:c.length===1?h=c[0]:h=new Zt,h!==c[0])for(let u=0,d=c.length;u<d;u++)h.add(c[u]);if(i.name&&(h.userData.name=i.name,h.name=a),ae(h,i),i.extensions&&Se(t,h,i),i.matrix!==void 0){const u=new de;u.fromArray(i.matrix),h.applyMatrix4(u)}else i.translation!==void 0&&h.position.fromArray(i.translation),i.rotation!==void 0&&h.quaternion.fromArray(i.rotation),i.scale!==void 0&&h.scale.fromArray(i.scale);return n.associations.has(h)||n.associations.set(h,{}),n.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const s=this.extensions,t=this.json.scenes[e],n=this,i=new ze;t.name&&(i.name=n.createUniqueName(t.name)),ae(i,t),t.extensions&&Se(s,i,t);const a=t.nodes||[],o=[];for(let l=0,c=a.length;l<c;l++)o.push(n.getDependency("node",a[l]));return Promise.all(o).then(function(l){for(let h=0,u=l.length;h<u;h++)i.add(l[h]);const c=h=>{const u=new Map;for(const[d,p]of n.associations)(d instanceof Oe||d instanceof _t)&&u.set(d,p);return h.traverse(d=>{const p=n.associations.get(d);p!=null&&u.set(d,p)}),u};return n.associations=c(i),i})}}function Li(r,e,s){const t=e.attributes,n=new rn;if(t.POSITION!==void 0){const o=s.json.accessors[t.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(n.set(new _(l[0],l[1],l[2]),new _(c[0],c[1],c[2])),o.normalized){const h=gt(ve[o.componentType]);n.min.multiplyScalar(h),n.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const i=e.targets;if(i!==void 0){const o=new _,l=new _;for(let c=0,h=i.length;c<h;c++){const u=i[c];if(u.POSITION!==void 0){const d=s.json.accessors[u.POSITION],p=d.min,g=d.max;if(p!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(g[2]))),d.normalized){const A=gt(ve[d.componentType]);l.multiplyScalar(A)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}n.expandByVector(o)}r.boundingBox=n;const a=new an;n.getCenter(a.center),a.radius=n.min.distanceTo(n.max)/2,r.boundingSphere=a}function zt(r,e,s){const t=e.attributes,n=[];function i(a,o){return s.getDependency("accessor",a).then(function(l){r.setAttribute(o,l)})}for(const a in t){const o=mt[a]||a.toLowerCase();o in r.attributes||n.push(i(t[a],o))}if(e.indices!==void 0&&!r.index){const a=s.getDependency("accessor",e.indices).then(function(o){r.setIndex(o)});n.push(a)}return ae(r,e),Li(r,e,s),Promise.all(n).then(function(){return e.targets!==void 0?Mi(r,e.targets,s):r})}var Le={Linear:{None:function(r){return r}},Quadratic:{In:function(r){return r*r},Out:function(r){return r*(2-r)},InOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)}},Cubic:{In:function(r){return r*r*r},Out:function(r){return--r*r*r+1},InOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)}},Quartic:{In:function(r){return r*r*r*r},Out:function(r){return 1- --r*r*r*r},InOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)}},Quintic:{In:function(r){return r*r*r*r*r},Out:function(r){return--r*r*r*r*r+1},InOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)}},Sinusoidal:{In:function(r){return 1-Math.cos(r*Math.PI/2)},Out:function(r){return Math.sin(r*Math.PI/2)},InOut:function(r){return .5*(1-Math.cos(Math.PI*r))}},Exponential:{In:function(r){return r===0?0:Math.pow(1024,r-1)},Out:function(r){return r===1?1:1-Math.pow(2,-10*r)},InOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)}},Circular:{In:function(r){return 1-Math.sqrt(1-r*r)},Out:function(r){return Math.sqrt(1- --r*r)},InOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)}},Elastic:{In:function(r){return r===0?0:r===1?1:-Math.pow(2,10*(r-1))*Math.sin((r-1.1)*5*Math.PI)},Out:function(r){return r===0?0:r===1?1:Math.pow(2,-10*r)*Math.sin((r-.1)*5*Math.PI)+1},InOut:function(r){return r===0?0:r===1?1:(r*=2,r<1?-.5*Math.pow(2,10*(r-1))*Math.sin((r-1.1)*5*Math.PI):.5*Math.pow(2,-10*(r-1))*Math.sin((r-1.1)*5*Math.PI)+1)}},Back:{In:function(r){var e=1.70158;return r*r*((e+1)*r-e)},Out:function(r){var e=1.70158;return--r*r*((e+1)*r+e)+1},InOut:function(r){var e=2.5949095;return(r*=2)<1?.5*(r*r*((e+1)*r-e)):.5*((r-=2)*r*((e+1)*r+e)+2)}},Bounce:{In:function(r){return 1-Le.Bounce.Out(1-r)},Out:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},InOut:function(r){return r<.5?Le.Bounce.In(r*2)*.5:Le.Bounce.Out(r*2-1)*.5+.5}}},Ce;typeof self>"u"&&typeof process<"u"&&process.hrtime?Ce=function(){var r=process.hrtime();return r[0]*1e3+r[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?Ce=self.performance.now.bind(self.performance):Date.now!==void 0?Ce=Date.now:Ce=function(){return new Date().getTime()};var he=Ce,ls=function(){function r(){this._tweens={},this._tweensAddedDuringUpdate={}}return r.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(s){return e._tweens[s]})},r.prototype.removeAll=function(){this._tweens={}},r.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},r.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},r.prototype.update=function(e,s){e===void 0&&(e=he()),s===void 0&&(s=!1);var t=Object.keys(this._tweens);if(t.length===0)return!1;for(;t.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<t.length;n++){var i=this._tweens[t[n]],a=!s;i&&i.update(e,a)===!1&&!s&&delete this._tweens[t[n]]}t=Object.keys(this._tweensAddedDuringUpdate)}return!0},r}(),ye={Linear:function(r,e){var s=r.length-1,t=s*e,n=Math.floor(t),i=ye.Utils.Linear;return e<0?i(r[0],r[1],t):e>1?i(r[s],r[s-1],s-t):i(r[n],r[n+1>s?s:n+1],t-n)},Bezier:function(r,e){for(var s=0,t=r.length-1,n=Math.pow,i=ye.Utils.Bernstein,a=0;a<=t;a++)s+=n(1-e,t-a)*n(e,a)*r[a]*i(t,a);return s},CatmullRom:function(r,e){var s=r.length-1,t=s*e,n=Math.floor(t),i=ye.Utils.CatmullRom;return r[0]===r[s]?(e<0&&(n=Math.floor(t=s*(1+e))),i(r[(n-1+s)%s],r[n],r[(n+1)%s],r[(n+2)%s],t-n)):e<0?r[0]-(i(r[0],r[0],r[1],r[1],-t)-r[0]):e>1?r[s]-(i(r[s],r[s],r[s-1],r[s-1],t-s)-r[s]):i(r[n?n-1:0],r[n],r[s<n+1?s:n+1],r[s<n+2?s:n+2],t-n)},Utils:{Linear:function(r,e,s){return(e-r)*s+r},Bernstein:function(r,e){var s=ye.Utils.Factorial;return s(r)/s(e)/s(r-e)},Factorial:function(){var r=[1];return function(e){var s=1;if(r[e])return r[e];for(var t=e;t>1;t--)s*=t;return r[e]=s,s}}(),CatmullRom:function(r,e,s,t,n){var i=(s-r)*.5,a=(t-e)*.5,o=n*n,l=n*o;return(2*e-2*s+i+a)*l+(-3*e+3*s-2*i-a)*o+i*n+e}}},yt=function(){function r(){}return r.nextId=function(){return r._nextId++},r._nextId=0,r}(),cs=new ls,Di=function(){function r(e,s){s===void 0&&(s=cs),this._object=e,this._group=s,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Le.Linear.None,this._interpolationFunction=ye.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=yt.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return r.prototype.getId=function(){return this._id},r.prototype.isPlaying=function(){return this._isPlaying},r.prototype.isPaused=function(){return this._isPaused},r.prototype.to=function(e,s){return this._valuesEnd=Object.create(e),s!==void 0&&(this._duration=s),this},r.prototype.duration=function(e){return this._duration=e,this},r.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var s in this._valuesStartRepeat)this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?he()+parseFloat(e):e:he(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},r.prototype._setupProperties=function(e,s,t,n){for(var i in t){var a=e[i],o=Array.isArray(a),l=o?"array":typeof a,c=!o&&Array.isArray(t[i]);if(!(l==="undefined"||l==="function")){if(c){var h=t[i];if(h.length===0)continue;h=h.map(this._handleRelativeValue.bind(this,a)),t[i]=[a].concat(h)}if((l==="object"||o)&&a&&!c){s[i]=o?[]:{};for(var u in a)s[i][u]=a[u];n[i]=o?[]:{},this._setupProperties(a,s[i],t[i],n[i])}else typeof s[i]>"u"&&(s[i]=a),o||(s[i]*=1),c?n[i]=t[i].slice().reverse():n[i]=s[i]||0}}},r.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},r.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},r.prototype.pause=function(e){return e===void 0&&(e=he()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},r.prototype.resume=function(e){return e===void 0&&(e=he()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},r.prototype.stopChainedTweens=function(){for(var e=0,s=this._chainedTweens.length;e<s;e++)this._chainedTweens[e].stop();return this},r.prototype.group=function(e){return this._group=e,this},r.prototype.delay=function(e){return this._delayTime=e,this},r.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},r.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},r.prototype.yoyo=function(e){return this._yoyo=e,this},r.prototype.easing=function(e){return this._easingFunction=e,this},r.prototype.interpolation=function(e){return this._interpolationFunction=e,this},r.prototype.chain=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];return this._chainedTweens=e,this},r.prototype.onStart=function(e){return this._onStartCallback=e,this},r.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},r.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},r.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},r.prototype.onStop=function(e){return this._onStopCallback=e,this},r.prototype.update=function(e,s){if(e===void 0&&(e=he()),s===void 0&&(s=!0),this._isPaused)return!0;var t,n,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>i)return!1;s&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(e-this._startTime)/this._duration,n=this._duration===0||n>1?1:n;var a=this._easingFunction(n);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),n===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(t in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[t]=="string"&&(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo&&this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,l=this._chainedTweens.length;o<l;o++)this._chainedTweens[o].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},r.prototype._updateProperties=function(e,s,t,n){for(var i in t)if(s[i]!==void 0){var a=s[i]||0,o=t[i],l=Array.isArray(e[i]),c=Array.isArray(o),h=!l&&c;h?e[i]=this._interpolationFunction(o,n):typeof o=="object"&&o?this._updateProperties(e[i],a,o,n):(o=this._handleRelativeValue(a,o),typeof o=="number"&&(e[i]=a+(o-a)*n))}},r.prototype._handleRelativeValue=function(e,s){return typeof s!="string"?s:s.charAt(0)==="+"||s.charAt(0)==="-"?e+parseFloat(s):parseFloat(s)},r.prototype._swapEndStartRepeatValues=function(e){var s=this._valuesStartRepeat[e],t=this._valuesEnd[e];typeof t=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(t):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=s},r}(),Bi="18.6.4",Pi=yt.nextId,X=cs,Ii=X.getAll.bind(X),ki=X.removeAll.bind(X),Fi=X.add.bind(X),Ni=X.remove.bind(X),ji=X.update.bind(X),ct={Easing:Le,Group:ls,Interpolation:ye,now:he,Sequence:yt,nextId:Pi,Tween:Di,VERSION:Bi,getAll:Ii,removeAll:ki,add:Fi,remove:Ni,update:ji};const Ui=r=>{let e=new ln,s=null,t=null,n=null,i,a,o,l,c,h=0,u=700,d=800,p=At(!0);const g=new O,A=new cn;let m=[];const x=()=>{s=new ss(75,r.value.clientWidth/r.value.clientHeight,.1,1e4),s.position.set(h,u,d),s.lookAt(e.position)},b=()=>{var C=new Jt(16777215,.3);C.position.set(200,300,400),e.add(C);var k=new un(16777215,1);k.position.set(0,0,0),e.add(k)},S=()=>{t=new hn({antialias:!0,alpha:!0,precision:"highp",logarithmicDepthBuffer:!0}),t.setSize(r.value.clientWidth,r.value.clientHeight),r.value.appendChild(t.domElement),t.render(e,s)},v=()=>{n=new Wn(s,t.domElement),n.enablePan=!0,n.autoRotate=!0,n.maxPolarAngle=1.5,n.minPolarAngle=0,n.dampingFactor=0},y="/hby/",w=()=>{let C=new fn,k=new $n;C.load(y+"/threeModels/three.mtl",G=>{G.preload(),k.setMaterials(G),k.load(`${y}/threeModels/three.obj`,Q=>{let te=new Te({color:3381504,transparent:!0,opacity:.8,wireframe:!1,side:qe});for(const se of Q.children)se.name.includes("圆锥")&&(se.material=te);Q.scale.set(1.4,1,1),e.add(Q),p.value=!1,j()})})};let E,P;const j=()=>{new ei().load(y+"/threeModels/Soldier.glb",k=>{E=k.scene,E.scale.set(30,30,30),E.position.set(70,0,0),e.add(E),E.traverse(Q=>{Q.isMesh&&(Q.castShadow=!0)}),P=new dn(E),P.visible=!1,e.add(P);const G=k.animations;l=new pn(E),c=l.clipAction(G[3]),c.play()})};let U=null;const J=()=>{U=new mn([new _(70,0,0),new _(70,0,-550),new _(40,0,-550),new _(40,0,400),new _(70,0,400)]),U.curveType="catmullrom",U.closed=!0,U.tension=0};let F=0;const D=4e-4,q=()=>{if(U==null||E==null)console.log("Loading");else if(F<=1-D){const te=U.getPointAt(F),se=U.getPointAt(F+D);if(te&&se){E.position.set(te.x,te.y,te.z);var C=se,k=0,G=new de;G.lookAt(E.position,C,E.up),G.multiply(new de().makeRotationFromEuler(new gn(0,k,0)));var Q=new De().setFromRotationMatrix(G);E.quaternion.slerp(Q,.2)}F+=D}else F=0};let N=!1,ee=0,me=!1,K=null,Ie=null;const Ze=()=>{u<=300?u=300:u-=.8,d<=500?d=500:d-=.6,u==300&&d==500&&(N?h-=1:(h+=1,ee==1&&h>=0&&(h=0,me=!0,K=new ct.Tween({x:h,y:u,z:d}),K.to({x:0,y:700,z:1e3},3e3),K.onUpdate(function(){s.position.set(this._object.x,this._object.y,this._object.z)}).start(),Ie=n.getAzimuthalAngle())),h<=-650&&(N=!1,ee=1),h>=650&&(N=!0)),s.position.set(h,u,d)};let ke=0,Fe=!1;const $e=()=>{n.autoRotate=!0,n.getAzimuthalAngle()>0&&(ke=1),ke==1&&n.getAzimuthalAngle()<=Ie&&(n.autoRotate=!1,K=new ct.Tween({x:s.position.x,y:s.position.y,z:s.position.z}),K.to({x:0,y:700,z:1e3},3e3),K.onUpdate(function(){s.position.set(this._object.x,this._object.y,this._object.z)}).start(),Fe=!0)},Ne=()=>{a=new Yn(t);const C=new Kn(e,s);a.addPass(C),o=new le(new O(r.value.clientWidth,r.value.clientHeight),e,s),a.addPass(o),o.pulsePeriod=2,o.visibleEdgeColor.set(16711680),o.hiddenEdgeColor.set(0),o.usePatternTexture=!1,o.edgeStrength=5,o.edgeGlow=1,o.edgeThickness=1},je=C=>{m=[],m.push(C)},we=C=>{if(C.isPrimary===!1)return;g.x=C.clientX/window.innerWidth*2-1,g.y=-(C.clientY/window.innerHeight)*2+1,A.setFromCamera(g,s),Ne();const k=A.intersectObject(e,!0);if(k.length>0){const G=k[0].object;je(G),o.selectedObjects=m}};let Ee=null;const Ue=()=>{ct.update(),Ee=requestAnimationFrame(Ue);var C=i.getDelta();q(),l&&l.update(C),setTimeout(()=>{me?(Fe||$e(),n.update()):Ze()},5e3),t.render(e,s),a!=null&&a.render()};return xs(()=>{try{e&&e.clear();let C;t&&(t&&t.dispose(),t&&t.forceContextLoss(),t.content=null,C=t.domElement.getContext("webgl")),C&&C.getExtension("WEBGL_lose_context").loseContext(),cancelAnimationFrame(Ee)}catch(C){console.log(C)}i=new qt,x(),b(),S(),v(),Ue(),w(),J(),t.domElement.addEventListener("pointerdown",we)}),Ts(()=>{t.domElement.removeEventListener("pointerdown",we),clearTimeout();try{e.clear(),t.dispose(),t.forceContextLoss(),t.content=null,cancelAnimationFrame(Ee);const C=t.domElement.getContext("webgl");C&&C.getExtension("WEBGL_lose_context").loseContext()}catch(C){console.log(C)}}),{loading:p}};const Hi={class:"content","element-loading-text":"模型加载中...","element-loading-custom-class":"loading","element-loading-background":"transparent"},Gi={__name:"content",setup(r){let e=At();const{loading:s}=Ui(e);return(t,n)=>{const i=An;return ys((fe(),Xe("div",Hi,[z("div",{class:"threeModel",ref_key:"threeModel",ref:e},null,512)])),[[i,M(s)]])}}},zi=Je(Gi,[["__scopeId","data-v-3fd0fc5f"]]),Vi="data:image/png;base64,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",Yi="data:image/png;base64,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",Ki="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAvCAYAAAChd5n0AAAIVklEQVRoga2ZbYxcVRmAn3vvfOy2y2639COFYrEtMW2D+NWImhA1WgMxxOoPQ/wDwWCiGAJG/pjIT+MP/4ipRlSsoqJGgxETUhOxKAlQDRpaTEVkrdtVWRa6tdPdmftxzD1z7sx73zn3ziCc5OTO7Nx7z/uc9z3v1wakhtc4AvW4/l419MKvSZDG//FM4PkcqM/6PjkKgeXVuPuN576JxqsB8Qk6blaBjJs+8NoxKUidwKGbgbgGFRqRWsjGXF8VzDgQ3+6HNXMcjNREVjEDBTgRUB2IFCT0QETiGqnfxoFIbaTimgq4QHym4hyNBakyHym4b/pgNEimNJKKmYjPQcVzXhgfSBVEIXhDXBvi+zit+MxKQ4SUgRCaoQ5mnGlpDeT3NwVAU8FMAqLNqhC8mLF7PnHPJkou39kZAakyJSl4y12bCuYq4BCwF9gCzAIb3W/GCdgBVoFl4C/AI8ASQ4DYrRfXeD1tck7wVHwug2gttNQsYN6A4ZPAW4FtnsW77p0tz29ngd8T8F1gRcD01CxApTMwwuS8IFUQbTdbg++GwxhuBebdO/IFnyHgBPAs8JKw5/x92zEcAK51movcc4sE3EvAYwqg62bPgSQeGCNBpDbqINoOYJaMzwIfcYLkJvMkIT8m4J+DBQybyLiFgFVCHhAmE5KxD8PHgTe7NWKrmf59HQFRBzPQigaRB1ua05SbOcRmUu7G8AEH8Rwh3yPiaeWR8uXeTcY99nPEbYQWspwNpLyPzALtcHbxAA3uAy4A6w5iXWgp8cAYedh9WonEWWhamIRPDSByU2jwVQK7GCpS93VSThH1YQ2I+C0Bp0i4E9iP4SZiVmjyI/GuQvDIfQ9F0LRvDmvOh/ZWTXrcQMqNbh8eJ+QoCW8jY84bI3IMiSVserBmyuVkXEHEEQynyYhIuYWEt6tN9MWrgXvX/l6qvQyRcBUJN5PRxPACDb5FzPuJuYsud5CyeSR3CjmF4WHgBwT8ZwQmYTc97qTH50nZQ8Q3yHiJjFlibiNlqwLR8WqQC4ZCzb40ZAgTcwjDZXaXI75DZD1SF8MUGQfpcjup1cwwWkcsM8W9tO0h7pRAEq6gx2fI2Ith2tp/gwVCfu70eg0x7/JkEIV8gdZInWn1YXrsIuVDzkR+TZOT9lOLXwG/IMOQ8k4SGwiTUs4UsEZgvU1ZWzF7SdlNRkLI/bT4g5WhyeMY/uxOxsesdspm5dOIvWFcbhWRsJ+U7db9NTnuBDOEXGSab3PRRuo2DZ53LtIILUel/Chlxv6tyQlSfknIP5jmN4NnIuuqnyDmamAfPd7IFOdqQAJUiiJriaEKM6ativu+4iRN/l460CFdZvi+8vHSOw1LgXV20eXT1ow28DVmOCLWGnqzBk/TYwnDTnpcR5uT1r/5IexsiMUCBdN/IGGGlKutaCGniThfkfTJTLbQxjC5W2M3a3wRwx57tmK20rQ7Ld1yf7ZYosNZMnZiuIaUaRpcrKt3quLI8ODnGumbVf7Lv8XCvlQ8G4kVuQFe4B3WGfQhcr93H1OcVllssW7xecmdySsx1mv5POyIaflK2v40FiawexqUdtA3hyl2Hg/O8QkSrsfYZHLe/tbkCHP81K0YCZAiyPUFDlgms5vTtn6yBkJrRI8CJHD1Wseq+EU+R2rzo/yXFTbwZWY5NRIjzrOfdW4vrdHk68zzIMFA4P44x7Ws2bPTcvc9SsjLpC43M9UAk4CUjSiwLnOHDWKZdbP52ETX1iHPqIw0PzWXkqn3t63H6wkN9EeXfaRcJu7cY91MXyMTdXqKm3wFfZHBGmerc4ScYYqjdK1Gco+1xBzHPN2QPB48yxoLGK50Yp9gikVR8YWDdWb5GaskGC6x5raBx+hygIwNLujK1EZ/LoFQafP5DmY2KWzbXd7OQ8DvVFVn1GYY5jhDxh10OGzfMcdPaA2ie2Eafehplpnm/lL0Psshu3rAK4O4Va5Bamv20X5TZN3e38g4YCN8/pew1BiQXi4r2e88zzPPV6rsutISYrtpO+zbGpy2saosl95woV5/qyajxXki/mi/5dH2wqCcrarv61pBeid99+RVfZ6g7nIgT9BgTVWGI5qRIP5+U2j35ymX++zkgi1VpSAapq6vJYXX1yFMh4M2Ac1YZ4YnCUoBV8PYZ2T0re43beSvhDxl3eBFbqTDJiFEVQu1SlBq3KhhhT10ea+VpsExNtr0X2cOIzW7z7R00ywHWaHNwzZTjXkTy1xfEZWrYLTwvpjQ902vcJiUbU4bDxHZMleXtyNdFA2itTJsmm3hOCHH7S8dbmaR96gcSZ8TH1QdqGGBj9J15UKTB9lsOzHxSGmg6vVxppWUXOw055jnm8CLNmVY5W7OclCVrnWd+khdy9pY4MN0bD8AW8Nv5YcuUYw9MPqMlLoousRteJpyLc5wHat8CcNGAl6mxTHn56WBoExPn49+NlWMjEvoWXNtE7LIVu5iu00qdaMurupv6XaQrzkn20L97y/wQf7LPS4Sv34j74ldyhe4nD95uo6x6DYm+sDLTmM4Bqbc0VjkLaxyk00w/J7Jp5Wq+/JV/8UWjrKNBSF07DGtxOeCq1qmvgaE7r43JogZdcFP3lMIJL2lD0D+U6gUEHWuJV9cFZmlQxj3H6pxQ3tLXXH6Drg33/KlyMWPmefvEkS2Zeq0Ujf0O6vK50y53JHhSxqLkam/vd4gcsOqYOo0UZv9+mAC8XejStJUgeC5yjhj1DqjZUN59yVkJUQViIbRu6YjdVUJOs6T+TTtu/rmyKgrI/XuBWJXswqAukRxEpi6qWUqjXH1sA/GJ/CkAJMA1V0rxySFvQ9m8kA32fBXipMO4H8HcB7eDvchTQAAAABJRU5ErkJggg==",Wi="data:image/png;base64,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",qi={class:"contentTop animate fadeInDown"},Qi={class:"flex"},Xi={class:"flex"},Ji=Qe({__name:"contentTop",setup(r){return(e,s)=>(fe(),Xe("div",qi,[z("div",Qi,[L(ce,{class:"flex1 item",icon:M(xn),title:"污水厂/站",value:"100",unit:"座"},null,8,["icon"]),L(ce,{class:"flex1 item",icon:M(Vi),title:"服务面积",value:"800",unit:"平方公里"},null,8,["icon"]),L(ce,{class:"flex1 item",icon:M(Yi),title:"服务人口",value:"1000",unit:"万人"},null,8,["icon"])]),z("div",Xi,[L(ce,{class:"flex1 item",icon:M(Tn),title:"当年处理水量",value:"30",unit:"亿吨"},null,8,["icon"]),L(ce,{class:"flex1 item",icon:M(yn),title:"当日实时水量",value:"800",unit:"万吨"},null,8,["icon"]),L(ce,{class:"flex1 item",icon:M(Ki),title:"当日符合率",value:"80%"},null,8,["icon"]),L(ce,{class:"flex1 item",icon:M(Wi),title:"当日告警数",value:"100",unit:"条"},null,8,["icon"])])]))}});const Zi=Je(Ji,[["__scopeId","data-v-695ec4df"]]),$i={class:"pageBox"},dr=Qe({__name:"ztts",setup(r){return(e,s)=>(fe(),Xe("div",$i,[L(In),L(Hn),L(zi),L(Zi)]))}});export{dr as default};
